<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link rel="canonical" href="http://sirwan.info/" />
  <title>
     
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="/css/font-awesome.min.css">
</head>

  <body class="theme-base-0d">

    <header class="masthead">
      <div class="masthead-inner">
      <div class="profilepic">
        <a href="http://localhost:4000"><img src="/public/avatar.png" alt="Profile Picture"></a>
      </div>
        <h2>Sirwan Afifi</h2>
        <p class="lead">Stories from a web developer.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/about">about</a>
            </li>
            <li>
              <a href="#">archives</a>
            </li>
            <li>
              <a href="#">contact</a>
            </li>
          </ul>
          <p>&copy; 2015. Sirwan Afifi All rights reserved.</p>
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="home">


    
     <article>
        <h1><a class="post-link title" href="/SQL-Server-on-Linux-in-Docker-on-a-Mac">SQL Server on Linux in Docker on a Mac</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> June 4, 2017 
            <i class="fa fa-tags"></i> Docker, ASP.NET Core
          </span>
        </div>
        <p>Over the last few months, I have been working on a couple of ASP.NET Core projects, it’s been great experience so far becuase I can easily work on <a href="http://sirwan.info/My-first-experiences-with-Linux">different platforms</a> while working with these projects. I recently bought a MacBook Pro and have decided to do .NET projects on macOS from now on.</p>

<p>Fortunately working with projects is not a pain in the neck anymore, with help of <a href="https://www.docker.com/what-docker">Docker</a> you can easily setup up a complex development environment in minutes. It actually simplifies the process of building and shipping, running your apps on differente environments.</p>

<p>The first challenge I faced when using macOS was connecting and using SQL Server. Thanks to Docker and SQL Server for Linux. It’s an instance of SQL Server as a docker container and it’s super-fast so that it runs in seconds.</p>

<center><img src="/public/img/docker.png" /></center>

<hr />

<h2 id="installing-docker-for-mac">Installing Docker for Mac</h2>
<p>In order to get Docker to work you will need to install Docker for Mac, you can follow <a href="https://docs.docker.com/docker-for-mac">these steps</a> to install it. Once Docker installation is done, it will automatically be started:
<br /></p>
<center><img width="400" src="/public/img/docker-running.png" /></center>

<p>You can also run <code class="highlighter-rouge">docker --version</code> to verify that Docker is working as expected.</p>

<hr />

<h2 id="pulling-and-running-docker-image">Pulling and running Docker image</h2>
<p>Next, you can install and run SQL <a href="https://hub.docker.com/r/microsoft/mssql-server-linux">Server on Linux docker image</a> using following command:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">docker run -e <span class="s1">'ACCEPT_EULA=Y'</span> -e <span class="s1">'SA_PASSWORD=Passowrd’ -p 1433:1433 -d microsoft/mssql-server-linux</span></code></pre></figure>

<p>This command will install and run the SQL Server image. Now SQL Server is running locally in Docker container:</p>
<center><img width="800" src="/public/img/sql-server-is-running.png" /></center>
<p>You can use its connection string in your ASP.NET Core application:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MvcMovieContext</span> <span class="p">:</span> <span class="n">DbContext</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnConfiguring</span><span class="p">(</span><span class="n">DbContextOptionsBuilder</span> <span class="n">optionsBuilder</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">optionsBuilder</span><span class="p">.</span><span class="nf">UseSqlServer</span><span class="p">(</span><span class="s">@"Data Source=localhost;Initial Catalog=MovieDB;User ID=sa;Password=StrongPassword"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Movie</span><span class="p">&gt;</span> <span class="n">Movies</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now if we run migration, the <code class="highlighter-rouge">MovieDB</code> database will be created in the running docker container:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">dotnet ef database update</code></pre></figure>

<h2 id="connecting-and-quering-the-databse">Connecting and quering the databse</h2>
<p>There are several ways to connect and query a database running in Docker container, one way is using a command line tool called <code class="highlighter-rouge">sqlcmd</code>:</p>
<center><img width="800" src="/public/img/sqlcmd.png" /></center>

<p>Personally I use <code class="highlighter-rouge">mssql</code> extension for Visual Studio Code. becuase it’s really easy to use so you don’t have to write your queries in command line mode. If you have not already installed this extension, all you need to do is press <code class="highlighter-rouge">⌘ + P</code> and type <code class="highlighter-rouge">ext install mssql</code> then press enter to install it.</p>

<p>In order to connect and query your database you need to first write your SQL queries into a <code class="highlighter-rouge">SQL</code> file in VS Code then press <code class="highlighter-rouge">⌘ + Shift + P</code> then choose <code class="highlighter-rouge">Create Connection Profile</code>, follow the prompts to specify the connection properties for the new connection profile. At the end you should have following settings:</p>

<figure class="highlight"><pre><code class="language-jsonnet" data-lang="jsonnet"><span class="p">{</span>
    <span class="s">"mssql.connections"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"authenticationType"</span><span class="p">:</span> <span class="s">"SqlLogin"</span><span class="p">,</span>
            <span class="s">"server"</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
            <span class="s">"database"</span><span class="p">:</span> <span class="s">"MovieDB"</span><span class="p">,</span>
            <span class="s">"user"</span><span class="p">:</span> <span class="s">"SA"</span><span class="p">,</span>
            <span class="s">"password"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
            <span class="s">"savePassword"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s">"profileName"</span><span class="p">:</span> <span class="s">"MovieDB"</span>
        <span class="p">}</span>
    <span class="p">],</span>
<span class="p">}</span></code></pre></figure>

<p>As you can see <code class="highlighter-rouge">mssql.connections</code> takes an array, it means that you can define as many connection profiles as you want. Once you defined your profile, you can use it to execute your queries then the result will be shown as a seperate window:</p>
<center><img width="800" src="/public/img/query_result_mssql.png" /></center>

<p>As you can see working with SQL Server on macOS is really straightforward. Something like this was not possible in .NET before but nowadays but nowadays you can develope .NET applications on OS of your choice. that’s why I’m more excited about .NET than ever.</p>


     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Working-remotely">Working remotely</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> May 3, 2017 
            <i class="fa fa-tags"></i> Agile, remote
          </span>
        </div>
        <p>It has been 8 months and so that I have been working remotely for a startup out there. It’s been my pleasure to work with a team of great and talented members. over the past few months, I have learned a lot both in terms of technical stuff and working as a team member.</p>

<p>For some, this might not seem a big deal. But for me, it’s a pretty big one. So I thought it would be great to share my experiences so far.</p>

<h3 id="new-technology-new-tools">New technology, new tools</h3>
<p>For this project we are using .NET core and ASP.NET MVC core on top of it. The main benefit of using cutting edge technologies is that you always keep yourself updated, but you might argue that working with new and shiny things is overwhelming because the product is not mature enough to work with. But I believe that’s also another great benefit because when you encounter a bug you easily open a GitHub issue and report it. So I think it’s best of both worlds.</p>

<h3 id="estimation">Estimation</h3>
<p>At first, I couldn’t deal with an accurate estimation, after a while I figured out that the problem was the task itself, not me, if a task is a big one then estimation most likely will be accurate, so the solution of having an accurate estimation is to break the task into smaller ones.</p>

<h3 id="documentation">Documentation</h3>
<p>A key point to have a good documentation is that, it needs to be updated after the requirement is changed. In our case, there are too many changes in requirements, this makes new team members confused. In my opinion, there must be a section called changelog in the documentation so that it will be really easy to know what was the previous changes at first place. you might say it’s better to use <code class="highlighter-rouge">git log</code> but I think sometimes you don’t need to go through several file changes in git history in order to understand a small change. Another good thing for new members is having mockups. I have been always a big fan of this type development, because as you know a picture worth a thousand words.</p>

<h3 id="working-in-different-time-zones">Working in different time zones</h3>
<p>From my point of view working in different time zones makes remote working a little bit difficult, suppose you are given a task, now you have some questions and no one is online, so in this case, you have to leave your messages on Slack or Jira in order to get your questions answered. this is really big deal for small teams.</p>

<h3 id="collaboration">Collaboration</h3>
<p>Another key point in agile development is collaboration. Working in a team is not just about delivering your product as soon as possible in some sprints. the best part of an agile team is having daily/weekly standup with other members. By other members I mean Mobile developers, Backend developers, Database developers, … I think the standup shouldn’t be held separately. As a web developer, I need to know what’s going on in other parts of the application, because I think it gives developers a really good big picture.</p>

<h3 id="conclusion">Conclusion</h3>
<p>All in all, it has been a great journey for me so far. because working remotely not only improves your technical ability but gives you a cultural perspective.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/My-first-experiences-with-Linux">My first experiences with Linux</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> February 27, 2017 
            <i class="fa fa-tags"></i> Linux, Windows
          </span>
        </div>
        <p>Running Window 98 on my PC was my first experience with Windows. in fact, for the last 11 years or so, Windows has been the dominant operating system that I’ve been using. So, up until now, I have been an avid fan of Windows.</p>

<blockquote>
  <p>Disclaimer: I’m not going to say that I’m not interested in Windows anymore, I just want to explain my experience with Ubuntu</p>
</blockquote>

<p>Windows just works fine for the most part. But, as a developer, I have always felt something is missing. For solving this problem, Microsoft has tried its best bringing in tools like PowerShell and Bash to Windows. But again, with all these great features and tools, as a developer, you think something is missing.</p>

<p>Two weeks ago, I decided to give Linux a try, So I chose Ubuntu because it’s user-friendly and its community is huge. Actually, my goal was to do some experiments with new version of .NET called .NET Core. The experience was great. First, I created a very simple console application on Windows and deployed it as a <a href="https://docs.microsoft.com/en-us/dotnet/articles/core/preview3/deploying/#self-contained-deployments-scd">SCD (Self-Contained Deployment)</a>:</p>

<p><img width="800" src="/public/img/publish.jpg" /></p>

<p>Then, I copied the publish folder on my USB stick and finally, I could run my .NET Core application without installing the .NET runtime on the target machine:</p>

<p><img src="/public/img/run_app.png" /></p>

<p>As a .NET developer I have been waiting voraciously for such opportunity. So, I think it’s the best time to migrate to Linux.</p>

<p>Actually, I was amazed at the first impression because Linux has everything a developer needs out of the box. Python is already installed on the OS. This is great because there are times you want to write simple scripts, scrap a page or something like that.</p>

<p>Other cool features of Linux are commands like <a href="https://www.gnu.org/software/sed/manual/sed.html">sed</a> and <a href="https://www.gnu.org/software/grep/manual/html_node/index.html">grep</a>. These tools are great whether you are a developer or a network administrator. for example, suppose that you have following content within a file named <code class="highlighter-rouge">test.json</code>:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="p">{</span>
   <span class="s">"AppName"</span><span class="p">:</span> <span class="s">"Simple App"</span><span class="p">,</span>
   <span class="s">"Website"</span><span class="p">:</span> <span class="s">"sirwan.info"</span><span class="p">,</span>
   <span class="s">"UseSqlite"</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
<span class="p">}</span></code></pre></figure>

<p>Now you want to replace all occurrence of <code class="highlighter-rouge">"UseSqlite": false,</code> to <code class="highlighter-rouge">"UseSqlite": true,</code> you can do that simply by typing this command:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">cat</span> <span class="n">text</span><span class="p">.</span><span class="n">json</span> <span class="p">|</span> <span class="n">sed</span> <span class="err">'</span><span class="n">s</span><span class="p">/</span><span class="s">"UseSqlite"</span><span class="p">:</span> <span class="k">false</span><span class="p">,/</span><span class="s">"UseSqlite"</span><span class="p">:</span> <span class="k">true</span><span class="p">,/</span><span class="err">'</span></code></pre></figure>

<p><img src="/public/img/sed_command.png" /></p>

<p>You can definitely do wide varaity of things using these tools, I just wanted to tell you how much I am excited about these cool stuff.</p>

<h3 id="development-on-ubuntu">Development on Ubuntu</h3>
<p>The good news is that .NET Core runs on Windows, Mac and Linux. In order to install .NET Core on Ubuntu you just simply need to navigate to <a href="https://www.microsoft.com/net/download">dot.net</a> site and download the appropriate version. after installing .NET Core, it gives you a CLI called <code class="highlighter-rouge">dotnet</code> so you can simply create, build and publish your applications using this command, for example:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">dotnet</span> <span class="k">new</span>
<span class="n">dotnet</span> <span class="n">restore</span>
<span class="n">dotnet</span> <span class="n">run</span></code></pre></figure>

<p>You can also use the editor of your choice for developing .NET Core application, personally I prefer to use <a href="http://code.visualstudio.com/">Visual Studio Code</a> or VSCode for short. because it has all great features you need:</p>

<p><img src="/public/img/vscode.png" /></p>

<p>VSCode is great, But I think using an IDE like Visual Studio gives you the power you need when are developing applications, Unfortunately, there’s no official version of Visual Studio for Linux at this time. I hope Microsoft release it for Linux users The only reason that I can’t abandon Windows is the lack of Visual Studio So I have to keep using Windows on my main machine.</p>

<h3 id="conclusion">Conclusion</h3>
<p>As I mentioned Visual Studio is the only reason to not completely abandon Windows, But I will use Ubuntu for sure. This was my first attempt to use Ubuntu and I am very happy about the experience, I would like to hear your ideas about your journey.</p>

<p>Happy Coding :))</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Environments-in-ASP.NET-Core">Environments in ASP.NET Core</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> November 23, 2016 
            <i class="fa fa-tags"></i> ASP.NET Core
          </span>
        </div>
        <p>In ASP.NET Core we can have different hosting environments, this is supported by an environment variable called <code class="highlighter-rouge">ASPNETCORE_ENVIRONMENT</code>. You can see this value is already set to <code class="highlighter-rouge">Development</code>:</p>

<p><img src="/public/img/environment.jpg" width="600" /></p>

<p>This value is active as long as you run your application inside Visual Studio, So when you deploy your application you must change this value. Actually, this value comes from a file called <code class="highlighter-rouge">launchSettings.json</code>:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="p">{</span>
  <span class="s">"iisSettings"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"windowsAuthentication"</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
    <span class="s">"anonymousAuthentication"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="s">"iisExpress"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"applicationUrl"</span><span class="p">:</span> <span class="s">"http://localhost:13880/"</span><span class="p">,</span>
      <span class="s">"sslPort"</span><span class="p">:</span> <span class="m">0</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"profiles"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"IIS Express"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"commandName"</span><span class="p">:</span> <span class="s">"IISExpress"</span><span class="p">,</span>
      <span class="s">"launchBrowser"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
      <span class="s">"environmentVariables"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"ASPNETCORE_ENVIRONMENT"</span><span class="p">:</span> <span class="s">"Development"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">"ProjectName"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"commandName"</span><span class="p">:</span> <span class="s">"Project"</span><span class="p">,</span>
      <span class="s">"launchBrowser"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
      <span class="s">"launchUrl"</span><span class="p">:</span> <span class="s">"http://localhost:5000"</span><span class="p">,</span>
      <span class="s">"environmentVariables"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"ASPNETCORE_ENVIRONMENT"</span><span class="p">:</span> <span class="s">"Development"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>You can determine what the environment is by using <code class="highlighter-rouge">IHostingEnvironment</code>:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">void</span> <span class="nf">Configure</span><span class="p">(</span><span class="n">IApplicationBuilder</span> <span class="n">app</span><span class="p">,</span> 
	<span class="n">IHostingEnvironment</span> <span class="n">env</span><span class="p">,</span> <span class="n">ILoggerFactory</span> <span class="n">loggerFactory</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">loggerFactory</span><span class="p">.</span><span class="nf">AddConsole</span><span class="p">();</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">env</span><span class="p">.</span><span class="nf">IsDevelopment</span><span class="p">())</span>
	<span class="p">{</span>
		<span class="n">app</span><span class="p">.</span><span class="nf">UseDeveloperExceptionPage</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="n">app</span><span class="p">.</span><span class="nf">UseExceptionHandler</span><span class="p">(</span><span class="k">new</span> <span class="n">ExceptionHandlerOptions</span>
		<span class="p">{</span>
			<span class="n">ExceptionHandler</span> <span class="p">=</span> <span class="n">context</span> <span class="p">=&gt;</span> <span class="n">context</span><span class="p">.</span><span class="n">Response</span><span class="p">.</span><span class="nf">WriteAsync</span><span class="p">(</span><span class="s">"Opps!"</span><span class="p">)</span>
		<span class="p">});</span>
	<span class="p">}</span>

	<span class="c1">// other configurations
</span><span class="p">}</span></code></pre></figure>

<p>This object also has a method called <code class="highlighter-rouge">IsEnvironment</code> for using custom environment:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">if</span> <span class="p">(</span><span class="n">env</span><span class="p">.</span><span class="nf">IsEnvironment</span><span class="p">(</span><span class="s">"envName"</span><span class="p">))</span>
<span class="p">{</span>
    <span class="c1">// some config
</span><span class="p">}</span></code></pre></figure>

<p>One interesting thing is that the Startup class itself supports different environments, it means that for each environment you can have both <code class="highlighter-rouge">Configure</code> and <code class="highlighter-rouge">ConfigureServices</code>:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureDevelopment</span><span class="p">(</span><span class="n">IApplicationBuilder</span> <span class="n">app</span><span class="p">,</span> <span class="p">.....</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServicesDevelopment</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureStaging</span><span class="p">(</span><span class="n">IApplicationBuilder</span> <span class="n">app</span><span class="p">,</span> <span class="p">.....</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServicesStaging</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureProduction</span><span class="p">(</span><span class="n">IApplicationBuilder</span> <span class="n">app</span><span class="p">,</span> <span class="p">.....</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServicesProduction</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span></code></pre></figure>

<p>Now you might ask how we can set this environment variable, well there are several ways that you can use, this great <a href="http://andrewlock.net/how-to-set-the-hosting-environment-in-asp-net-core/">post</a> explains them in details.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Getting-to-know-Singletone-Pattern">Getting to know Singleton pattern in C#</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> November 8, 2016 
            <i class="fa fa-tags"></i> C#, Design Patterns
          </span>
        </div>
        <p>This pattern helps us to ensure a class has only one instance. The term comes from the <a href="https://en.wikipedia.org/wiki/Singleton_(mathematics)">mathematical concept of a singleton</a>:</p>

<blockquote>
  <p>In mathematics, a singleton, also known as a unit set,[1] is a set with exactly one element. For example, the set {0} is a singleton.</p>
</blockquote>

<p>Eventually we must have a class that only gives us a single instance:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">sigleInstance</span> <span class="p">=</span> <span class="n">MySingletonClass</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">();</span></code></pre></figure>

<p>As you can see the only way to access the instance is by calling a public static method called <code class="highlighter-rouge">GetInstance()</code>, the single object instance under consideration is created only for the first time it is requested. suppose the following class:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MySingletonClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MySingletonClass</span><span class="p">()</span>
    <span class="p">{</span>
	
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now I want to make this class singleton, So the first step is to ensure that no one can instantiate our class for doing so we must make the constrauctor <code class="highlighter-rouge">private</code>:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MySingletonClass</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="nf">MySingletonClass</span><span class="p">()</span>
    <span class="p">{</span>
	
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now whenever you want to create a new instance of <code class="highlighter-rouge">MySingletonClass</code> using <code class="highlighter-rouge">new</code> keyword, Visual Studio gives you this error:</p>

<p><img src="/public/img/singleton_error.jpg" width="500" /></p>

<p>But we can still instantiate it from within the class. So next step is to create a new variable of type <code class="highlighter-rouge">MySingletonClass</code> inside the class, this class is going to be the only instance of the class:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MySingletonClass</span>
<span class="p">{</span>
	<span class="k">private</span> <span class="k">static</span> <span class="n">MySingletonClass</span> <span class="n">_instance</span><span class="p">;</span>

	<span class="k">private</span> <span class="nf">MySingletonClass</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>So we are getting close to implementing the pattern. Now we need a way to get access the single instance. So we need a method like this:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">static</span> <span class="n">MySingletonClass</span> <span class="nf">GetInstance</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">_instance</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">_instance</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MySingletonClass</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">_instance</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>This method instantiates <code class="highlighter-rouge">MySingletonClass</code> if an instance doesn’t already exist, otherwise it return the existing instance. To demonstrate the object lifetime we can print value of <code class="highlighter-rouge">GetHashCode()</code> fo these objects:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">mySingleInstance</span>   <span class="p">=</span> <span class="n">MySingletonClass</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">();</span>
<span class="kt">var</span> <span class="n">mySingleInstance_2</span> <span class="p">=</span> <span class="n">MySingletonClass</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">();</span>
<span class="kt">var</span> <span class="n">mySingleInstance_3</span> <span class="p">=</span> <span class="n">MySingletonClass</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">();</span>
<span class="kt">var</span> <span class="n">mySingleInstance_4</span> <span class="p">=</span> <span class="n">MySingletonClass</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">();</span>

<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="err">$</span><span class="s">"obj1: {mySingleInstance.GetHashCode()}"</span><span class="p">);</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="err">$</span><span class="s">"obj2: {mySingleInstance_2.GetHashCode()} "</span><span class="p">);</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="err">$</span><span class="s">"obj3: {mySingleInstance_3.GetHashCode()} "</span><span class="p">);</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="err">$</span><span class="s">"obj4: {mySingleInstance_4.GetHashCode()} "</span><span class="p">);</span></code></pre></figure>

<p><img src="/public/img/singleton_GetHashCode.jpg" />
As you can see all of the objects are the same and share the same instance. The problem with this implementation is that, it’s not <a href="http://csharpindepth.com/Articles/General/Singleton.aspx">thread-safe</a>; it means that if seperate threads of execution access the <code class="highlighter-rouge">_instance</code> at the same time, more that one instance of the <code class="highlighter-rouge">MySingletonClass</code> object may be created. One of the solution is by using .NET 4’s <code class="highlighter-rouge">Lazy&lt;T&gt;</code> type:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MySingletonClass</span>
<span class="p">{</span>
	<span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Lazy</span><span class="p">&lt;</span><span class="n">MySingletonClass</span><span class="p">&gt;</span> <span class="n">_instance</span> <span class="p">=</span> 
		<span class="k">new</span> <span class="n">Lazy</span><span class="p">&lt;</span><span class="n">MySingletonClass</span><span class="p">&gt;(()</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">MySingletonClass</span><span class="p">());</span>

	<span class="k">private</span> <span class="nf">MySingletonClass</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

	<span class="k">public</span> <span class="k">static</span> <span class="n">MySingletonClass</span> <span class="nf">GetInstance</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="n">_instance</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span> </code></pre></figure>


     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Designing-Fluent-Interfaces-in-C">Designing Fluent Interfaces in C#</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> October 26, 2016 
            <i class="fa fa-tags"></i> C#, Design Patterns
          </span>
        </div>
        <p>The concept of <a href="martinfowler.com/bliki/FluentInterface.html">Fluent Interface</a> was coined by Martin Fowler to create various objects and wire them up together. This pattern is often used for object configuration and setup. For example in ASP.NET Core applications we have following code for configuring the server:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Hosting</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">aspnetcoreapp</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">host</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WebHostBuilder</span><span class="p">()</span>
                <span class="p">.</span><span class="nf">UseKestrel</span><span class="p">()</span>
                <span class="p">.</span><span class="n">UseStartup</span><span class="p">&lt;</span><span class="n">Startup</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="nf">Build</span><span class="p">();</span>

            <span class="n">host</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>As you can see we can chain methods together easily and the intention is to produce an API that is readable and flows. This pattern is heavily used in programming, Here’s an example of using this approach in jQuery:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'#result'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background'</span><span class="p">,</span> <span class="s1">'yellow'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'This is the result'</span><span class="p">);</span></code></pre></figure>

<p>For C#, there is LINQ:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">person</span> <span class="p">=</span> <span class="n">PersonDataSource</span>
	<span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="m">20</span><span class="p">)</span>
	<span class="p">.</span><span class="nf">OrderBy</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
	<span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span>
		<span class="n">Name</span> <span class="p">=</span> <span class="n">p</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span>
		<span class="n">LastName</span> <span class="p">=</span> <span class="n">p</span><span class="p">.</span><span class="n">LastName</span>
<span class="p">});</span></code></pre></figure>

<p>You might ask how to implement this pattern, well, it is very simple you just need to return <code class="highlighter-rouge">this</code> during method call. The <code class="highlighter-rouge">Calculator</code> defined below contains three methods. These methods are returing <code class="highlighter-rouge">Calculator</code> object using <code class="highlighter-rouge">this</code> keyword, which allow to chain the methods:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Calculator</span> 
<span class="p">{</span>
	<span class="k">public</span> <span class="kt">int</span> <span class="n">Initial</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
	<span class="k">public</span> <span class="nf">Calculator</span><span class="p">(</span><span class="kt">int</span> <span class="n">intial</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Initial</span> <span class="p">=</span> <span class="n">intial</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">Calculator</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Initial</span> <span class="p">=</span> <span class="n">Initial</span> <span class="p">+</span> <span class="n">x</span><span class="p">;</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">Calculator</span> <span class="nf">Divide</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Initial</span> <span class="p">=</span> <span class="n">Initial</span> <span class="p">/</span> <span class="n">x</span><span class="p">;</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">Calculator</span> <span class="nf">Substract</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Initial</span> <span class="p">=</span> <span class="n">Initial</span> <span class="p">-</span> <span class="n">x</span><span class="p">;</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now we can use the class this way:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">calc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Calculator</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
			<span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
			<span class="p">.</span><span class="nf">Divide</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
			<span class="p">.</span><span class="nf">Substract</span><span class="p">(</span><span class="m">2</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">calc</span><span class="p">.</span><span class="n">Initial</span><span class="p">);</span></code></pre></figure>

<p>As you can see this approach makes our code concise and easier to read.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Explicit-Interface-Implementation">Explicit Interface Implementation</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> August 12, 2016 
            <i class="fa fa-tags"></i> C#
          </span>
        </div>
        <p>Let’s imagine that you have a class with two methods:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">VendingMachine</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="nf">InsertCoin</span><span class="p">(</span><span class="kt">float</span> <span class="n">amount</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">amount</span> <span class="p">&lt;</span> <span class="m">500</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Buy</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Buy"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now when we want to create an instance of this class and call one of those methods, it executes as expected:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">VendingMachine</span> <span class="n">machine</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">VendingMachine</span><span class="p">();</span>
<span class="n">machine</span><span class="p">.</span><span class="nf">InsertCoin</span><span class="p">(</span><span class="m">5</span><span class="p">);</span> <span class="c1">// false
</span><span class="n">machine</span><span class="p">.</span><span class="nf">Buy</span><span class="p">();</span>         <span class="p">//</span> <span class="s">"Buy"</span></code></pre></figure>

<p>Now suppose that we have an interface called <code class="highlighter-rouge">IVendingMachine</code> that has two methods:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">interface</span> <span class="n">IVendingMachine</span> 
<span class="p">{</span>
    <span class="kt">bool</span> <span class="nf">InsertCoin</span><span class="p">(</span><span class="kt">float</span> <span class="n">amount</span><span class="p">);</span>
    <span class="kt">string</span> <span class="nf">Buy</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

<p>We want our class to implements this interface:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">VendingMachine</span> <span class="p">:</span> <span class="n">IVendingMachine</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="nf">InsertCoin</span><span class="p">(</span><span class="kt">float</span> <span class="n">amount</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">amount</span> <span class="p">&lt;</span> <span class="m">500</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Buy</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Buy"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Our class satisfied the interface because it has the methods with the same names. So Visual Studio doesn’t give you a compiler error. Now let’s imagine that we
also want to add interface’s methods to this class, So, in this case, we must explicitly prefix the methods with <code class="highlighter-rouge">IVendingMachine.</code>:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">VendingMachine</span> <span class="p">:</span> <span class="n">IVendingMachine</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="nf">InsertCoin</span><span class="p">(</span><span class="kt">float</span> <span class="n">amount</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">amount</span> <span class="p">&lt;</span> <span class="m">500</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">bool</span> <span class="n">IVendingMachine</span><span class="p">.</span><span class="nf">InsertCoin</span><span class="p">(</span><span class="kt">float</span> <span class="n">amount</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">amount</span> <span class="p">&lt;</span> <span class="m">300</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Buy</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Buy"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">string</span> <span class="n">IVendingMachine</span><span class="p">.</span><span class="nf">Buy</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">"IVendingMachine Buy"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Note that Visual Studio can help you to implement interface explicitly by pressing <code class="highlighter-rouge">Ctrl + .</code> on the name of the interface and select <code class="highlighter-rouge">Implement interface explicitly</code>:</p>

<p><img src="/public/img/explicit_interface_implementation.jpg" width="800" />
Now, what happens when we call the <code class="highlighter-rouge">InsertCoin</code> and <code class="highlighter-rouge">Buy</code> methods? In this case, we should consider two different situations when we create the object:</p>

<ul>
  <li>Concrete Type</li>
  <li>Interface Variable</li>
</ul>

<p>If we want the methods of <code class="highlighter-rouge">VendingMachine</code> we should create the object with concrete type:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">VendingMachine</span> <span class="n">machine</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">VendingMachine</span><span class="p">();</span>
<span class="n">machine</span><span class="p">.</span><span class="nf">InsertCoin</span><span class="p">(</span><span class="m">5</span><span class="p">);</span> <span class="c1">// false
</span><span class="n">machine</span><span class="p">.</span><span class="nf">Buy</span><span class="p">();</span>         <span class="p">//</span> <span class="s">"Buy"</span></code></pre></figure>

<p>If we want the methods of <code class="highlighter-rouge">IVendingMachine</code> we should create the object with interface variable:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">IVendingMachine</span> <span class="n">machine</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">VendingMachine</span><span class="p">();</span>
<span class="n">machine</span><span class="p">.</span><span class="nf">InsertCoin</span><span class="p">(</span><span class="m">5</span><span class="p">);</span> <span class="c1">// true
</span><span class="n">machine</span><span class="p">.</span><span class="nf">Buy</span><span class="p">();</span>         <span class="p">//</span> <span class="s">"IVendingMachine Buy"</span></code></pre></figure>


     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Delegates">Delegates in C#</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> July 2, 2016 
            <i class="fa fa-tags"></i> C# ASP.NET MVC
          </span>
        </div>
        <p>Lately I have been studying some topics in C# in order to improve myself. I think <a href="https://msdn.microsoft.com/en-us/library/ms173171.aspx">Delegate</a> is one of those topics which is kinda difficult for beginners to initiate with. So, in order to make it clear how it works, I’m going to make some explanations in this post.</p>

<h3 id="what-are-delegates">What are Delegates?</h3>
<p>Delegate was introduced in C# 1. Think of it as a simply being a placeholder for functions that’ll be called at some point in time. Assume you want to declare a variable that is a reference to a specific method. In this case, the variable encapsulates some executable code and you can invoke the variable just like an actual method. In doing so, we need to create a delegate</p>

<h3 id="defining-a-delegate">Defining a Delegate</h3>
<p>Delegates are created using <code class="highlighter-rouge">delegate</code> keyword along with the function signature:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">delegate</span> <span class="kt">int</span> <span class="nf">Sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">);</span></code></pre></figure>

<p>As you can see we are defining a delegate called <code class="highlighter-rouge">Sum</code> that is compatible with any method with an <code class="highlighter-rouge">int</code> return type with two parameters. Actually we defined a type that we can use to create variables and point those variables to methods that have the same signature and same return type. 
The type defenition for a delegate describes the method that we want to call:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">int</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">;</span></code></pre></figure>

<p>Now we can assign a method to the delegate variable. This assignment creates a delegate instance:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">Sum</span> <span class="n">s</span> <span class="p">=</span> <span class="n">Add</span><span class="p">;</span></code></pre></figure>

<p>Now we can invoke the delegate instance in the same way as a method:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">int</span> <span class="n">result</span> <span class="p">=</span> <span class="nf">s</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">);</span></code></pre></figure>

<h3 id="advantages-of-delegate">Advantages of Delegate</h3>

<ul>
  <li>Delegates are type safe, It means that the C# compiler checks the function signatures of a Delegate when you use them at runtime.</li>
  <li>Can be used to define callback functions.</li>
  <li>Can be dynamically switched at runtime.</li>
</ul>

<h3 id="real-world-example">Real World example</h3>
<p>Suppose that you want to implement something like a <a href="https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater(v=vs.85).aspx">Repeater</a> control in your ASP.NET MVC application, As you probably know a Repeater is(was) server side databound control in ASP.NET WebForm for displaying information, It had a lot of flexability becuase you had complete control over the your markup.</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Helpers</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="k">delegate</span> <span class="n">HelperResult</span> <span class="n">ItemTemplate</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span> <span class="n">input</span><span class="p">);</span>

	<span class="k">public</span> <span class="k">static</span> <span class="n">HelperResult</span> <span class="n">Repeater</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">HtmlHelper</span> <span class="n">html</span><span class="p">,</span>
	  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">items</span><span class="p">,</span>
	  <span class="n">ItemTemplate</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">itemTemplate</span><span class="p">,</span>
	  <span class="n">ItemTemplate</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">alternatingitemTemplate</span> <span class="p">=</span> <span class="k">null</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nf">HelperResult</span><span class="p">(</span><span class="n">writer</span> <span class="p">=&gt;</span>
		<span class="p">{</span>
			<span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
			<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">items</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">var</span> <span class="n">func</span> <span class="p">=</span> <span class="n">i</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span> <span class="p">?</span> <span class="n">itemTemplate</span> <span class="p">:</span> <span class="n">alternatingitemTemplate</span><span class="p">;</span>
				<span class="nf">func</span><span class="p">(</span><span class="n">item</span><span class="p">).</span><span class="nf">WriteTo</span><span class="p">(</span><span class="n">writer</span><span class="p">);</span>
				<span class="n">i</span><span class="p">++;</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>As you can see we emulated the <code class="highlighter-rouge">ItemTemplate</code> and <code class="highlighter-rouge">AlternatingItemTemplate</code> using a delegate. In this case user can pass the data and the data will be rendered inside the view. In this case the delegates act like callback. <br />
The <code class="highlighter-rouge">ItemTemplate</code> delegate in our example can be replaced with <code class="highlighter-rouge">Func</code> delegate:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">Func</span><span class="p">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">HelperResult</span><span class="p">&gt;</span> <span class="n">itemTemplate</span><span class="p">,</span>
<span class="n">Func</span><span class="p">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">HelperResult</span><span class="p">&gt;</span> <span class="n">alternatingitemTemplate</span> <span class="p">=</span> <span class="k">null</span></code></pre></figure>

<p>Now we can use our helper inside any view:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span>Id<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>Name<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    @Html.Repeater(Model, @<span class="nt">&lt;tr&gt;</span>
	    <span class="nt">&lt;td&gt;</span>@item.Title<span class="nt">&lt;/td&gt;</span>
	    <span class="nt">&lt;td&gt;</span>@item.Price<span class="nt">&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>, 
	@<span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">"alert-info"</span><span class="nt">&gt;</span>
	    <span class="nt">&lt;td&gt;</span>@item.Title<span class="nt">&lt;/td&gt;</span>
	    <span class="nt">&lt;td&gt;</span>@item.Price<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>)
<span class="nt">&lt;/table&gt;</span></code></pre></figure>

<p>If you run the application you can see the result:</p>

<p><img src="/public/img/repeater.jpg" width="500" /></p>

<p>You can check out the <a href="https://github.com/SirwanAfifi/using_delegates">GitHub repository</a> for this post.</p>


     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Thinking-out-of-the-box-to-become-a-better-programmer">Thinking out of the box to become a better programmer</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> June 11, 2016 
            <i class="fa fa-tags"></i> Uncategorised
          </span>
        </div>
        <p><img src="/public/img/Thinking_Man.jpg" width="350" />
<em>Image courtesy of <a href="http://goo.gl/iu68gq">http://goo.gl/iu68gq</a></em></p>

<p>Today I was talking with a friend of mine about thinking, The topic is interesting and I wanted to share it with you because as a programmer we are always thinking and trying to find solutions. Actually it’s a good habit when you want to learn something new, instead of taking action and delve into the details, you should think about that and break it down into several pieces then construct it as a big picture. Once you get familiar to it you can start trying to figure out each individual piece, By doing so you will become great in your field.</p>

<p><img src="/public/img/think-outside-the-box.jpg" width="500" />
<em>Image courtesy of <a href="http://goo.gl/Xi2Cn4">http://goo.gl/Xi2Cn4</a></em></p>

<p>On the other hand, thinking isn’t the only thing for being an expert in programming. Suppose that you are given a challenging feature to implement in a team you’re working with, you might spend days and days trying to implement this feature and each time you fail and stuck in it then you try to find a solution on the net or asking questions on Stackoverflow. I’m not saying you shouldn’t google about your problem, What I’m saying is that you should understand the problem, This is where a Thinking out of the box’s metaphor comes into play.</p>

<p>This is very helpful because when you ran into a problem you should first think about it in a new or a different prespective, For example you can put yourself in end user’s place and try to figure it out. Once you understand it, you can start coding the feature. By doing so you can help yourself and believe me it works like a charm and you don’t need to post off-topic questions every single day on Stackoverflow anymore, Instead when you run into a serious problem, you can post your question and get extra votes :)</p>

<p>So thinking out of the box helps us to think like a programmer, It also helps you to approach problems in new ways.</p>


     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Why-Angular">Why AngularJS?</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> April 17, 2016 
            <i class="fa fa-tags"></i> Angular.js JavaScript
          </span>
        </div>
        <p>I wanted to share a few thoughts about AngularJS</p>

<h3 id="introduction">Introduction</h3>
<p>AngularJS is a MV* framework for writing manageable, clean, full-featured applications in the browser with JavaScript , It’s also incredibly easy to learn for those who already have HTML and JavaScript experience. Angular’s goal was to create a way for designers to be able to do HTML design using components. One thing that I like about Angular is that, it’s an opinionated MV* framework, It means that it tells you what are the certain ways of doing things, Some people might argue that it’s somehow a limitation for a framework such as Angular because it solves fewer problems, but I think at least it assures to not having spaghetti code.</p>

<h3 id="how-i-got-into-angularjs">How I got into AngularJS</h3>
<p>I have been sitting on the fence for far too long to chose a great JavaScript framework. Finally a couple of years ago I decided to use AngularJS and it caught my attention. It actually made me cursious to learn more about it. I started to use AngularJS for some parts of my application. At the time Angular team were working on the next version of the framework So I stopped using it because I heard that the next version is a different framework. Now I have come to conclusion that it’s better to stick with Angular 1.x, then I can switch to Angular 2 in a right time.</p>

<h3 id="angularjs-benefites">AngularJS Benefites</h3>
<p>Angular has lots of great features from testability and two-way binding, to more vague concepts. For me the best thing about Angular is that it has a flat learning curve So you can get the most of it. All being said here are the some of my favorite features and benefits of Angular:</p>

<ul>
  <li>Code Reduction: Angular reduces the amount of code that developers write.</li>
  <li>Two Way Binding</li>
  <li>Beautiful syntax and higher level APIs</li>
</ul>

<p>For example take a look this piece of code written in raw JavaScript:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'btn'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'clicked!'</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<p>Whereas with Angular you can simple achieve same goal this way:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"btn"</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">click</span><span class="o">=</span><span class="s2">"handleClick()"</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">Me</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>
<span class="nx">$scope</span><span class="p">.</span><span class="nx">handleClick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'clicked!'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>As you can see the Angular code is less complex.</p>

<ul>
  <li>Popularity</li>
  <li>Testability<br />
Angular was designed with testing in mind. So you can test any components of your application easily through both <a href="https://docs.angularjs.org/guide/unit-testing">unit testing</a> and <a href="https://docs.angularjs.org/guide/e2e-testing">end to end</a> testing. For unit testing you can use a component called <a href="https://docs.angularjs.org/api/ngMock">ngMock</a> and for e2e testing you can use <a href="https://github.com/angular/protractor">Protractor</a>. It is worthwhile to mention that for both cases you can run your tests using a tool called Karma.</li>
</ul>

<h3 id="angularjs-gotchas">AngularJS gotchas</h3>
<p>Although Angular is a great framework but it has some problems that you can run into trouble with it. Here are some of them:</p>

<ul>
  <li>SEO<br />
For dealing with this issue we can use server side rendering or use a <a href="https://prerender.io/">prerenderer</a>,</li>
  <li>Performance<br />
One thing that causes performance problem in Angular is having too many bindings. If performance is important you can consider using a different rendering engine.</li>
  <li>External Events and Digest Cycle</li>
</ul>

<h3 id="conclusion">Conclusion</h3>
<p>Even though Angular 2 is coming, But Angular 1 is still a thing and I think Angular 1 will be supported for a long time to come.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Asynchronous-Execution-in-JavaScript">Asynchronous Execution in JavaScript</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> February 12, 2016 
            <i class="fa fa-tags"></i> JavaScript MVC
          </span>
        </div>
        <p>As you know browsers are typically single threaded, It means that the browser can only be doing either update the UI or executing JavaScript at any given time. It actually incapable of doing theme simultaneously.</p>

<p>As I mentioned when JavaScript is executing code, the UI is unable to respond to the user. So, our goal as a developer is to build a highly responsive UI. For doing that you could create smaller unit of work and use JavaScript timers to return execution to the next event in the queue:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">buffer</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">iterFn</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">result</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span>  
                    <span class="o">!==</span> <span class="kc">false</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">)</span> 
                     <span class="o">-</span> <span class="nx">start</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">result</span> <span class="o">=</span> <span class="nx">iterFn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">callback</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">20</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>Assume that we want to pull down some data from the server, Then the data is going to be processed through an array loop, And we are going to build some DOM elements:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">@</span><span class="p">{</span>
    <span class="nx">ViewBag</span><span class="p">.</span><span class="nx">Title</span> <span class="o">=</span> <span class="s2">"Home Page"</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;&lt;</span><span class="sr">/ul</span><span class="err">&gt;
@</span><span class="nx">section</span> <span class="nx">scripts</span>
<span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'@Url.Action("Date")'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

                <span class="nx">buffer</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">html</span> <span class="o">+=</span> <span class="s1">'&lt;li&gt;'</span> <span class="o">+</span> <span class="nx">item</span> <span class="o">+</span> <span class="s1">'&lt;/li&gt;'</span><span class="p">;</span>
                <span class="p">},</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
                <span class="p">});</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="p">}</span></code></pre></figure>

<p>Also the action method is like this:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="n">JsonResult</span> <span class="nf">Date</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">Enumerable</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">50000</span><span class="p">);</span>

    <span class="k">return</span> <span class="nf">Json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">JsonRequestBehavior</span><span class="p">.</span><span class="n">AllowGet</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>The <code class="highlighter-rouge">buffer</code> method works like a charm but using <code class="highlighter-rouge">setTimeout</code> is considered to be a bad practice. So that’s where the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> come into play.</p>

<h3 id="web-workers">Web Workers</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">MDN</a>:</p>

<blockquote>
  <p>Web Workers provide a simple means for web content to run scripts in background threads. The worker thread can perform tasks without interfering with the user interface. In addition, they can perform I/O using XMLHttpRequest (although the responseXML and channel attributes are always null). Once created, a worker can send messages to the JavaScript code that created it by posting messages to an event handler specified by that code (and vice versa.) This article provides a detailed introduction to using web workers.</p>
</blockquote>

<p>Well, Web Wrokers bring background threading to browsers. It is a best option if you have intense processing that needs to happen in your browser. Since Workers run in another global context so there’s a few restrictions that you have to keep in mind, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Functions_and_classes_available_to_workers">Here</a> you can see the list of functions and classes available to Web Workers. So your favorite JavaScript library may not work with workers.</p>

<p>So let’s rewrite our example with Web Workers:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"result"</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
@</span><span class="nx">section</span> <span class="nx">scripts</span>
<span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">_worker</span><span class="p">;</span>

            <span class="nx">_worker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="s1">'@Url.Content("~/Scripts/getData.js")'</span><span class="p">);</span>
            <span class="nx">_worker</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span> <span class="nx">messageHander</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
            <span class="nx">_worker</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="s2">"fetch"</span><span class="p">);</span>

            <span class="kd">function</span> <span class="nx">messageHander</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">"#result"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>

        <span class="p">});</span>
    <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="p">}</span></code></pre></figure>

<p>As you can see I instantiated a worker, Then I setup an event listener for message, So when data comes in from the AJAX call, we will inject the result into html of a container called <code class="highlighter-rouge">result</code>. <br />
Here you see the worker:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">messageHandler</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span> <span class="o">===</span> <span class="s2">"fetch"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fetch</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">fetch</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">xmlhttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
    <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>

            <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">html</span> <span class="o">+=</span> <span class="s1">'&lt;li&gt;'</span> <span class="o">+</span> <span class="nx">res</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">'&lt;/li&gt;'</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">postMessage</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'/Home/Date'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span> <span class="nx">messageHandler</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span></code></pre></figure>

<p>Inside the fetch content we used typical AJAX call because in Web Workers you can not use a third-party library it means that there’s no access to non-thread safe components, So you have to use a native <code class="highlighter-rouge">XMLHttpRequest</code> in your worker. Now if you run the code you will see that now that’s pretty fast even quite a bit faster than before.</p>

<p>You can see the sample code <a href="https://github.com/SirwanAfifi/asynchronous-execution-in-js">in the GitHub repository</a></p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Object-Oriented-JavaScript-Part-2">Object Oriented JavaScript Part 2</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> December 11, 2015 
            <i class="fa fa-tags"></i> JavaScript C#
          </span>
        </div>
        <p>###Classes
In many programming languages a <a href="https://en.wikipedia.org/wiki/Class_(computer_programming)">class</a> is a standard unit of work, which means that you normally create all of your code inside classes and these classes contain data, behaviour, events and those sort of things that you are going to use in developing your solutions. for example in C# we can create a class this way:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="c1">// Field
</span>    <span class="k">public</span> <span class="kt">string</span> <span class="n">firstName</span><span class="p">;</span>
	<span class="c1">// Constructor that takes no arguments.
</span>    <span class="k">public</span> <span class="nf">Person</span><span class="p">(</span><span class="kt">string</span> <span class="n">firstName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">lastName</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">firstName</span> <span class="p">=</span> <span class="n">firstName</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">lastName</span> <span class="p">=</span> <span class="n">lastName</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// Method
</span>    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Greet</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="err">$</span><span class="s">"Hello, { name }. My name is { this.firstName }"</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>In this case we have a class along with properties, constructor. So a class in C# contains data as well as operation as well as events. It will be useful to create same sort of structure in JavaScript. Prior to ES6 there was no such thing as a class in JavaScript, we could simply do everything with functions, we could create classes by using some of the language semantics to create things that look and feels like classes. But they were not classes in the classical sense. for example we used function to do this:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">firstName</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">lastName</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">greet</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="s2">"Hello, "</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">". My name is "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span>
<span class="p">};</span></code></pre></figure>

<p>So what this function does is use the <code class="highlighter-rouge">this</code> keyword to define new property that represents a person object in this case. And what’s interesting here this is what’s called a constructor syntax. So this function when called will return an object. By doing this, we can create a new person:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s2">"Sirwan"</span><span class="p">,</span> <span class="s2">"Afifi"</span><span class="p">);</span></code></pre></figure>

<p>In this case, we can see that it is using the <code class="highlighter-rouge">new</code> keyword. this keyword is used to find a function with a name, after the <code class="highlighter-rouge">new</code>, return an object that contained the shape that is defined in the function. Once we have an instance of that, we can get any of the properties that are specified in the constructor syntax function:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span></code></pre></figure>

<p>ES6 introduces language support for classes with <code class="highlighter-rouge">class</code> keyword. So the ES6 equivalent of the <code class="highlighter-rouge">Person</code> function would be the following:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
	<span class="nx">constructor</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">firstName</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">lastName</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="err">`</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">name</span><span class="p">}.</span> <span class="nx">My</span> <span class="nx">name</span> <span class="nx">is</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>	</code></pre></figure>

<p>So we have essentially recreated the same Person data type but with much better syntax. behind the scene the runtime is doing the exactly what we used to do. But now the syntax is clean and expressive. As you can see there is <code class="highlighter-rouge">constructor</code> in the class definition. the constructor is one of the class members that we can list in the body of a class, just like the other members it is a function, it is a function that automatically invoked when we say <code class="highlighter-rouge">new</code> and use the class name as a function call:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s2">"Sirwan"</span><span class="p">,</span> <span class="s2">"Afifi"</span><span class="p">);</span></code></pre></figure>

<p>###Getters and Setters
In a class we can also use getter and setter, they are created using <code class="highlighter-rouge">get</code> and <code class="highlighter-rouge">set</code> keyword. get and set allows us to run code on the reading or writing of a property:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// ES6 get and set</span>
<span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="o">=</span> <span class="nx">firstName</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_lastName</span> <span class="o">=</span> <span class="nx">lastName</span><span class="p">;</span>
    <span class="p">}</span>
  
    <span class="nx">get</span> <span class="nx">fullName</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">result</span>  <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="o">+</span> <span class="s2">", "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_lastName</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
    <span class="p">}</span>
  
    <span class="nx">set</span> <span class="nx">firstName</span><span class="p">(</span><span class="nx">newName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="o">=</span> <span class="nx">newName</span><span class="p">;</span> 
    <span class="p">}</span>
   <span class="nx">set</span> <span class="nx">lastName</span><span class="p">(</span><span class="nx">newName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_lastName</span> <span class="o">=</span> <span class="nx">newName</span><span class="p">;</span> 
    <span class="p">}</span>
   <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span> <span class="err">`</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">name</span><span class="p">}.</span> <span class="nx">My</span> <span class="nx">name</span> <span class="nx">is</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>    
<span class="kd">let</span> <span class="nx">sirwan</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">'Sirwan'</span><span class="p">,</span> <span class="s1">'Afifi'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sirwan</span><span class="p">.</span><span class="nx">fullName</span><span class="p">);</span>  <span class="c1">// Outputs 'SIRWAN, AFIFI'</span>
<span class="kd">let</span> <span class="nx">omid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">'Daryoush'</span><span class="p">,</span> <span class="s1">'Zandi'</span><span class="p">);</span>
<span class="nx">omid</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s2">"Omid"</span><span class="p">;</span>
<span class="nx">omid</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="s2">"Kamangar"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">omid</span><span class="p">.</span><span class="nx">fullName</span><span class="p">);</span>  <span class="c1">// Outputs 'OMID, KAMANGAR'</span></code></pre></figure>

<p>###Inheritance
ES6 also gives us an easy syntax to specify and inheritance for relationship. Which is a way we say a class inherits from another class. Now assume that we need another class for modling an <code class="highlighter-rouge">Employee</code>, since every employee is a person, maybe we will have the <code class="highlighter-rouge">Employee</code> inherit from a <code class="highlighter-rouge">Person</code>. In ES6 inheritance is specified using <code class="highlighter-rouge">extends</code> keyword:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">Employee</span> <span class="kr">extends</span> <span class="nx">Person</span><span class="p">{</span>
  <span class="c1">// more features</span>
  <span class="nx">getWork</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="err">`</span><span class="nx">$</span><span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="p">}</span> <span class="nx">is</span> <span class="nx">working</span><span class="p">.</span><span class="err">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">emp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">'Sirwan'</span><span class="p">,</span> <span class="s1">'Afifi'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">emp</span><span class="p">.</span><span class="nx">getWork</span><span class="p">());</span> <span class="c1">// Outputs 'Sirwan is working.'</span></code></pre></figure>

<p>The only thing is that a lot of features in ES2015 are not supported in the browsers. For example classes are not supported by any browser, now there might be a nightly built of Firefox that supports classes. So instead we have to use a transpiler and there are many transpilers such as <a href="http://www.typescriptlang.org">TypeScript</a>, <a href="https://babeljs.io">Bable</a> and variety of others. I recommend you to use Bable because it has the best support for all of ES2015 features.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Object-Oriented-JavaScript-Part-1">Object Oriented JavaScript Part 1</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> December 10, 2015 
            <i class="fa fa-tags"></i> JavaScript C#
          </span>
        </div>
        <p>Recently I’ve started to improve my JavaScript skill, So I decided to keep notes about new things I learn from now on.
Since I’m a C# developer, I’m trying to use my existing knowledge in C# to learn JavaScript.<br />
As you know in C# we have something called <a href="https://msdn.microsoft.com/en-us/library/bb384062.aspx">Object and collection initializer</a>. For example we can use object initializer to create name and value pairs for different properties of the object, in this case <code class="highlighter-rouge">car</code> object:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">car</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Car</span><span class="p">()</span>
<span class="p">{</span> 
    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="n">Color</span> <span class="p">=</span> <span class="s">"Red"</span><span class="p">,</span> 
    <span class="n">Manufacturer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CarManufacturer</span><span class="p">()</span> 
    <span class="p">{</span> 
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet"</span><span class="p">,</span> 
        <span class="n">Country</span> <span class="p">=</span> <span class="s">"USA"</span> 
    <span class="p">}</span> 
<span class="p">};</span></code></pre></figure>

<p>As you can see we used object initializer for those embedded objects too.
Although object initializers can be used for anonymous types. So here’s the same example which we build with anonymous object:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">car</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> 
    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="n">Color</span> <span class="p">=</span> <span class="s">"Red"</span><span class="p">,</span> 
    <span class="n">Manufacturer</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> 
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet"</span><span class="p">,</span> 
        <span class="n">Country</span> <span class="p">=</span> <span class="s">"USA"</span> 
    <span class="p">}</span> 
<span class="p">};</span></code></pre></figure>

<p>This is very similar the way dynamic objects work in JavaScript. So in JavaScript object creation is going to follow this pattern:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">car</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">name</span><span class="p">:</span> <span class="s2">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="na">color</span><span class="p">:</span> <span class="s2">"Red"</span><span class="p">,</span> 
    <span class="na">manufacturer</span><span class="p">:</span> <span class="p">{</span> 
        <span class="na">name</span><span class="p">:</span> <span class="s2">"Chevrolet"</span><span class="p">,</span> 
        <span class="na">country</span><span class="p">:</span> <span class="s2">"USA"</span> 
    <span class="p">},</span>
    <span class="s2">"towing capacity"</span><span class="p">:</span> <span class="s2">"5,952 lbs"</span> 
<span class="p">};</span></code></pre></figure>

<p>As you can see we use key/value pairs. Actually it’s a little different from C# for instance we used colons (<code class="highlighter-rouge">:</code>) instead of equals (<code class="highlighter-rouge">=</code>) but generally the syntaxes are similar. In some case you may see the name is embedded in quotes, it’s optional but if you’re using any reserved characters like space, in this case, you need to surround the name with quotes (like <code class="highlighter-rouge">towing capacity</code>).</p>

<p>These dynamic objects that you have defined with this name value pairs allows you to take these objects you are creating and access each the properties you have defined in that name value pair by the name using a simple dot syntax. For example here in JavaScript you can just access the name using dot name convention:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">car</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span></code></pre></figure>

<p>You can also use a bracket syntax, that’s why objects are sometimes called associative arrays:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">car</span><span class="p">[</span><span class="s2">"name"</span><span class="p">];</span></code></pre></figure>

<p>This way we can retrieve or set the property values. There are other ways for accessing and retrieving property value that are as follows:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">car</span><span class="p">.</span><span class="nx">color</span>                <span class="o">=</span> <span class="s2">"Dot syntax"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="s2">"towing capacity"</span><span class="p">]</span>   <span class="o">=</span> <span class="s2">"String with space"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="nx">str</span><span class="p">]</span>                 <span class="o">=</span> <span class="s2">"String value"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="nx">rand</span><span class="p">]</span>                <span class="o">=</span> <span class="s2">"Random Number"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="nx">obj</span><span class="p">]</span>                 <span class="o">=</span> <span class="s2">"Object"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="s2">""</span><span class="p">]</span>                  <span class="o">=</span> <span class="s2">"Even an empty string"</span><span class="p">;</span> </code></pre></figure>

<p>We can also get embedded objects that are the properties of those dynamic objects as well and retrive properties from them:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">manufacturer</span> <span class="o">=</span> <span class="nx">car</span><span class="p">.</span><span class="nx">manufacturer</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">manufacturer</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">country</span> <span class="o">=</span> <span class="nx">manufacturer</span><span class="p">.</span><span class="nx">country</span><span class="p">;</span></code></pre></figure>

<p>###Malleability
As you probably know, One of the key features of JavaScript is that the language is <a href="http://blog.jeremymartin.name/2008/03/understanding-loose-typing-in.html">loosely typed</a> it means that variables are declared without a type. So the objects that you are creating in this way are very malleable. In C# <code class="highlighter-rouge">ExpandoObject</code> gives you this behavior.</p>

<blockquote>
  <p>ExpandoObject Represents an object whose members can be dynamically added and removed at run time.</p>
</blockquote>

<p>For example in this code we are creating a new object and marking it as dynamic so that we can add members to this <code class="highlighter-rouge">ExpandoObject</code> as we want:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="kt">dynamic</span> <span class="n">car</span>  <span class="p">=</span> <span class="k">new</span> <span class="nf">ExpandoObject</span><span class="p">();</span>
<span class="n">car</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet Corvette"</span><span class="p">;</span>
<span class="n">car</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="s">"Red"</span><span class="p">;</span></code></pre></figure>

<p>These are being added on-the-fly. It means that these aren’t defining the shape ahead of time. We are just saying we are going to add properties to the <code class="highlighter-rouge">car</code> object. In fact this is pretty much the same way in JavaScript:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">car</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">name</span><span class="p">:</span> <span class="s2">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="na">color</span><span class="p">:</span> <span class="s2">"Red"</span>
<span class="p">};</span></code></pre></figure>

<p>We can still add another property or function on-the-fly:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">car</span><span class="p">[</span><span class="s2">"towing capacity"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"5,952 lbs"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span></code></pre></figure>

<p>Resourses:</p>
<ul>
    <li><a href="https://pluralsight.com/courses/js4cs
">JavaScript for C# Developers by Shawn Wildermuth</a></li>
    <li><a href="https://mauricebutler.wordpress.com/2011/11/07/getting-started-with-javascript-with-a-c-background/">Getting started with JavaScript with a C# background</a></li>
    <li><a href="https://dzone.com/articles/javascript-c-developers">JavaScript for C# Developers: Functions are Objects</a></li>
</ul>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/First-Blog-Post">My first blog post!</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> November 28, 2015 
            <i class="fa fa-tags"></i> 
          </span>
        </div>
        <p>Here’s my first blog post :) In this blog I’m going to share thing that I learn, hope you enjoy reading my blog :)</p>

     </article>
     <hr>
    
  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>

</div>
<!-- Pagination links -->
<div class="pagination">
  
    <span class="next">Older</span>
  
  
    <span class="previous">Newer</span>
  
</div>
    </div>

  </body>
</html>
