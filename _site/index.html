<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/css/font-awesome.min.css">
</head>


  <body class="theme-base-0d">

    <header class="masthead">
      <div class="masthead-inner">
      <div class="profilepic">
        <a href="http://sirwan.info"><img src="/public/avatar.png" alt="Profile Picture"></a>
      </div>
        <h2>Sirwan Afifi</h2>
        <p class="lead">Stories from a web developer.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/about">about</a>
            </li>
            <li>
              <a href="#">archives</a>
            </li>
            <li>
              <a href="#">contact</a>
            </li>
          </ul>
          <p>&copy; 2015. Sirwan Afifi All rights reserved.</p>
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="home">


    
     <article>
        <h1><a class="post-link title" href="/Thinking-out-of-the-box">Thinking out of the box</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> June 11, 2016 
            <i class="fa fa-tags"></i> Uncategorised
          </span>
        </div>
        <p><img src="/public/img/Thinking_Man.jpg" width="350" />
<em>Image courtesy of <a href="http://goo.gl/iu68gq">http://goo.gl/iu68gq</a></em></p>

<p>Today I was talking with a friend of mine about thinking, The topic is interesting and I wanted to share it with you because as a programmer we are always thinking and trying to find solutions. Actually it’s a good habit when you want to learn something new, instead of taking action and delve into the details, you should think about that and break it down into several pieces then construct it as a big picture. Once you get familiar to it you can start trying to figure out each individual pice, By doing so you will become great in your field.</p>

<p><img src="/public/img/think-outside-the-box.jpg" width="500" />
<em>Image courtesy of <a href="http://goo.gl/Xi2Cn4">http://goo.gl/Xi2Cn4</a></em></p>

<p>In the other hand, thinking isn’t the only thing for being an expert in programming. Suppose that you are given a challenging feature to implement in a team you’re working with, you might spend days and days trying to implement this feature and each time you fail and stuck in it then you try to find a solution on the net or asking questions on Stackoverflow. I’m not saying you shouldn’t google about your problem, What I’m saying is that you should understand the problem, This is where a Thinking out of the box’s metaphor comes into play.</p>

<p>This is very helpful because when you ran into a problem you should first think about it in a new or a different prespective, For example you can put yourself in end user’s place and try to figure it out. Once you understand it, you can start coding the feature. By doing so you can help yourself and belive me it works like a charm and you don’t need to post off-topic questions every single day on Stackoverflow anymore, Instead when you run into a serious problem, you can post your question and get extra votes :)</p>

<p>So thinking out of the box helps us to think like a programmer, It also helps you to approach problems in new way.</p>


     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Why-Angular">Why AngularJS?</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> April 17, 2016 
            <i class="fa fa-tags"></i> Angular.js JavaScript
          </span>
        </div>
        <p>I wanted to share a few thoughts about AngularJS</p>

<h3 id="introduction">Introduction</h3>
<p>AngularJS is a MV* framework for writing manageable, clean, full-featured applications in the browser with JavaScript , It’s also incredibly easy to learn for those who already have HTML and JavaScript experience. Angular’s goal was to create a way for designers to be able to do HTML design using components. One thing that I like about Angular is that, it’s an opinionated MV* framework, It means that it tells you what are the certain ways of doing things, Some people might argue that it’s somehow a limitation for a framework such as Angular because it solves fewer problems, but I think at least it assures to not having spaghetti code.</p>

<h3 id="how-i-got-into-angularjs">How I got into AngularJS</h3>
<p>I have been sitting on the fence for far too long to chose a great JavaScript framework. Finally a couple of years ago I decided to use AngularJS and it caught my attention. It actually made me cursious to learn more about it. I started to use AngularJS for some parts of my application. At the time Angular team were working on the next version of the framework So I stopped using it because I heard that the next version is a different framework. Now I have come to conclusion that it’s better to stick with Angular 1.x, then I can switch to Angular 2 in a right time.</p>

<h3 id="angularjs-benefites">AngularJS Benefites</h3>
<p>Angular has lots of great features from testability and two-way binding, to more vague concepts. For me the best thing about Angular is that it has a flat learning curve So you can get the most of it. All being said here are the some of my favorite features and benefits of Angular:</p>

<ul>
  <li>Code Reduction: Angular reduces the amount of code that developers write.</li>
  <li>Two Way Binding</li>
  <li>Beautiful syntax and higher level APIs</li>
</ul>

<p>For example take a look this piece of code written in raw JavaScript:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'btn'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'clicked!'</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<p>Whereas with Angular you can simple achieve same goal this way:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"btn"</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">click</span><span class="o">=</span><span class="s2">"handleClick()"</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">Me</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>
<span class="nx">$scope</span><span class="p">.</span><span class="nx">handleClick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'clicked!'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>As you can see the Angular code is less complex.</p>

<ul>
  <li>Popularity</li>
  <li>Testability<br />
Angular was designed with testing in mind. So you can test any components of your application easily through both <a href="https://docs.angularjs.org/guide/unit-testing">unit testing</a> and <a href="https://docs.angularjs.org/guide/e2e-testing">end to end</a> testing. For unit testing you can use a component called <a href="https://docs.angularjs.org/api/ngMock">ngMock</a> and for e2e testing you can use <a href="https://github.com/angular/protractor">Protractor</a>. It is worthwhile to mention that for both cases you can run your tests using a tool called Karma.</li>
</ul>

<h3 id="angularjs-gotchas">AngularJS gotchas</h3>
<p>Although Angular is a great framework but it has some problems that you can run into trouble with it. Here are some of them:</p>

<ul>
  <li>SEO<br />
For dealing with this issue we can use server side rendering or use a <a href="https://prerender.io/">prerenderer</a>,</li>
  <li>Performance<br />
One thing that causes performance problem in Angular is having too many bindings. If performance is important you can consider using a different rendering engine.</li>
  <li>External Events and Digest Cycle</li>
</ul>

<h3 id="conclusion">Conclusion</h3>
<p>Even though Angular 2 is coming, But Angular 1 is still a thing and I think Angular 1 will be supported for a long time to come.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Asynchronous-Execution-in-JavaScript">Asynchronous Execution in JavaScript</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> February 12, 2016 
            <i class="fa fa-tags"></i> JavaScript MVC
          </span>
        </div>
        <p>As you know browsers are typically single threaded, It means that the browser can only be doing either update the UI or executing JavaScript at any given time. It actually incapable of doing theme simultaneously.</p>

<p>As I mentioned when JavaScript is executing code, the UI is unable to respond to the user. So, our goal as a developer is to build a highly responsive UI. For doing that you could create smaller unit of work and use JavaScript timers to return execution to the next event in the queue:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">buffer</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">iterFn</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">result</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span>  
                    <span class="o">!==</span> <span class="kc">false</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">)</span> 
                     <span class="o">-</span> <span class="nx">start</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">result</span> <span class="o">=</span> <span class="nx">iterFn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">callback</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">20</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>Assume that we want to pull down some data from the server, Then the data is going to be processed through an array loop, And we are going to build some DOM elements:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">@</span><span class="p">{</span>
    <span class="nx">ViewBag</span><span class="p">.</span><span class="nx">Title</span> <span class="o">=</span> <span class="s2">"Home Page"</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;&lt;</span><span class="sr">/ul</span><span class="err">&gt;
@</span><span class="nx">section</span> <span class="nx">scripts</span>
<span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'@Url.Action("Date")'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

                <span class="nx">buffer</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">html</span> <span class="o">+=</span> <span class="s1">'&lt;li&gt;'</span> <span class="o">+</span> <span class="nx">item</span> <span class="o">+</span> <span class="s1">'&lt;/li&gt;'</span><span class="p">;</span>
                <span class="p">},</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
                <span class="p">});</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="p">}</span></code></pre></figure>

<p>Also the action method is like this:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="n">JsonResult</span> <span class="nf">Date</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">Enumerable</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">50000</span><span class="p">);</span>

    <span class="k">return</span> <span class="nf">Json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">JsonRequestBehavior</span><span class="p">.</span><span class="n">AllowGet</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>The <code class="highlighter-rouge">buffer</code> method works like a charm but using <code class="highlighter-rouge">setTimeout</code> is considered to be a bad practice. So that’s where the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> come into play.</p>

<h3 id="web-workers">Web Workers</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">MDN</a>:</p>

<blockquote>
  <p>Web Workers provide a simple means for web content to run scripts in background threads. The worker thread can perform tasks without interfering with the user interface. In addition, they can perform I/O using XMLHttpRequest (although the responseXML and channel attributes are always null). Once created, a worker can send messages to the JavaScript code that created it by posting messages to an event handler specified by that code (and vice versa.) This article provides a detailed introduction to using web workers.</p>
</blockquote>

<p>Well, Web Wrokers bring background threading to browsers. It is a best option if you have intense processing that needs to happen in your browser. Since Workers run in another global context so there’s a few restrictions that you have to keep in mind, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Functions_and_classes_available_to_workers">Here</a> you can see the list of functions and classes available to Web Workers. So your favorite JavaScript library may not work with workers.</p>

<p>So let’s rewrite our example with Web Workers:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"result"</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
@</span><span class="nx">section</span> <span class="nx">scripts</span>
<span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">_worker</span><span class="p">;</span>

            <span class="nx">_worker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="s1">'@Url.Content("~/Scripts/getData.js")'</span><span class="p">);</span>
            <span class="nx">_worker</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span> <span class="nx">messageHander</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
            <span class="nx">_worker</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="s2">"fetch"</span><span class="p">);</span>

            <span class="kd">function</span> <span class="nx">messageHander</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">"#result"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>

        <span class="p">});</span>
    <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="p">}</span></code></pre></figure>

<p>As you can see I instantiated a worker, Then I setup an event listener for message, So when data comes in from the AJAX call, we will inject the result into html of a container called <code class="highlighter-rouge">result</code>. <br />
Here you see the worker:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">messageHandler</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span> <span class="o">===</span> <span class="s2">"fetch"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fetch</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">fetch</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">xmlhttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
    <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>

            <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">html</span> <span class="o">+=</span> <span class="s1">'&lt;li&gt;'</span> <span class="o">+</span> <span class="nx">res</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">'&lt;/li&gt;'</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">postMessage</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'/Home/Date'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span> <span class="nx">messageHandler</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span></code></pre></figure>

<p>Inside the fetch content we used typical AJAX call because in Web Workers you can not use a third-party library it means that there’s no access to non-thread safe components, So you have to use a native <code class="highlighter-rouge">XMLHttpRequest</code> in your worker. Now if you run the code you will see that now that’s pretty fast even quite a bit faster than before.</p>

<p>You can see the sample code <a href="https://github.com/SirwanAfifi/asynchronous-execution-in-js">in the GitHub repository</a></p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Object-Oriented-JavaScript-Part-2">Object Oriented JavaScript Part 2</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> December 11, 2015 
            <i class="fa fa-tags"></i> JavaScript C#
          </span>
        </div>
        <p>###Classes
In many programming languages a <a href="https://en.wikipedia.org/wiki/Class_(computer_programming)">class</a> is a standard unit of work, which means that you normally create all of your code inside classes and these classes contain data, behaviour, events and those sort of things that you are going to use in developing your solutions. for example in C# we can create a class this way:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="c1">// Field
</span>    <span class="k">public</span> <span class="kt">string</span> <span class="n">firstName</span><span class="p">;</span>
	<span class="c1">// Constructor that takes no arguments.
</span>    <span class="k">public</span> <span class="nf">Person</span><span class="p">(</span><span class="kt">string</span> <span class="n">firstName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">lastName</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">firstName</span> <span class="p">=</span> <span class="n">firstName</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">lastName</span> <span class="p">=</span> <span class="n">lastName</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// Method
</span>    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Greet</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="err">$</span><span class="s">"Hello, { name }. My name is { this.firstName }"</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>In this case we have a class along with properties, constructor. So a class in C# contains data as well as operation as well as events. It will be useful to create same sort of structure in JavaScript. Prior to ES6 there was no such thing as a class in JavaScript, we could simply do everything with functions, we could create classes by using some of the language semantics to create things that look and feels like classes. But they were not classes in the classical sense. for example we used function to do this:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">firstName</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">lastName</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">greet</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="s2">"Hello, "</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">". My name is "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span>
<span class="p">};</span></code></pre></figure>

<p>So what this function does is use the <code class="highlighter-rouge">this</code> keyword to define new property that represents a person object in this case. And what’s interesting here this is what’s called a constructor syntax. So this function when called will return an object. By doing this, we can create a new person:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s2">"Sirwan"</span><span class="p">,</span> <span class="s2">"Afifi"</span><span class="p">);</span></code></pre></figure>

<p>In this case, we can see that it is using the <code class="highlighter-rouge">new</code> keyword. this keyword is used to find a function with a name, after the <code class="highlighter-rouge">new</code>, return an object that contained the shape that is defined in the function. Once we have an instance of that, we can get any of the properties that are specified in the constructor syntax function:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span></code></pre></figure>

<p>ES6 introduces language support for classes with <code class="highlighter-rouge">class</code> keyword. So the ES6 equivalent of the <code class="highlighter-rouge">Person</code> function would be the following:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
	<span class="nx">constructor</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">firstName</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">lastName</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="err">`</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">name</span><span class="p">}.</span> <span class="nx">My</span> <span class="nx">name</span> <span class="nx">is</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>	</code></pre></figure>

<p>So we have essentially recreated the same Person data type but with much better syntax. behind the scene the runtime is doing the exactly what we used to do. But now the syntax is clean and expressive. As you can see there is <code class="highlighter-rouge">constructor</code> in the class definition. the constructor is one of the class members that we can list in the body of a class, just like the other members it is a function, it is a function that automatically invoked when we say <code class="highlighter-rouge">new</code> and use the class name as a function call:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s2">"Sirwan"</span><span class="p">,</span> <span class="s2">"Afifi"</span><span class="p">);</span></code></pre></figure>

<p>###Getters and Setters
In a class we can also use getter and setter, they are created using <code class="highlighter-rouge">get</code> and <code class="highlighter-rouge">set</code> keyword. get and set allows us to run code on the reading or writing of a property:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// ES6 get and set</span>
<span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="o">=</span> <span class="nx">firstName</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_lastName</span> <span class="o">=</span> <span class="nx">lastName</span><span class="p">;</span>
    <span class="p">}</span>
  
    <span class="nx">get</span> <span class="nx">fullName</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">result</span>  <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="o">+</span> <span class="s2">", "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_lastName</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
    <span class="p">}</span>
  
    <span class="nx">set</span> <span class="nx">firstName</span><span class="p">(</span><span class="nx">newName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="o">=</span> <span class="nx">newName</span><span class="p">;</span> 
    <span class="p">}</span>
   <span class="nx">set</span> <span class="nx">lastName</span><span class="p">(</span><span class="nx">newName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_lastName</span> <span class="o">=</span> <span class="nx">newName</span><span class="p">;</span> 
    <span class="p">}</span>
   <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span> <span class="err">`</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">name</span><span class="p">}.</span> <span class="nx">My</span> <span class="nx">name</span> <span class="nx">is</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>    
<span class="kd">let</span> <span class="nx">sirwan</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">'Sirwan'</span><span class="p">,</span> <span class="s1">'Afifi'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sirwan</span><span class="p">.</span><span class="nx">fullName</span><span class="p">);</span>  <span class="c1">// Outputs 'SIRWAN, AFIFI'</span>
<span class="kd">let</span> <span class="nx">omid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s1">'Daryoush'</span><span class="p">,</span> <span class="s1">'Zandi'</span><span class="p">);</span>
<span class="nx">omid</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s2">"Omid"</span><span class="p">;</span>
<span class="nx">omid</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="s2">"Kamangar"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">omid</span><span class="p">.</span><span class="nx">fullName</span><span class="p">);</span>  <span class="c1">// Outputs 'OMID, KAMANGAR'</span></code></pre></figure>

<p>###Inheritance
ES6 also gives us an easy syntax to specify and inheritance for relationship. Which is a way we say a class inherits from another class. Now assume that we need another class for modling an <code class="highlighter-rouge">Employee</code>, since every employee is a person, maybe we will have the <code class="highlighter-rouge">Employee</code> inherit from a <code class="highlighter-rouge">Person</code>. In ES6 inheritance is specified using <code class="highlighter-rouge">extends</code> keyword:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">Employee</span> <span class="kr">extends</span> <span class="nx">Person</span><span class="p">{</span>
  <span class="c1">// more features</span>
  <span class="nx">getWork</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="err">`</span><span class="nx">$</span><span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">_firstName</span> <span class="p">}</span> <span class="nx">is</span> <span class="nx">working</span><span class="p">.</span><span class="err">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">emp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">'Sirwan'</span><span class="p">,</span> <span class="s1">'Afifi'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">emp</span><span class="p">.</span><span class="nx">getWork</span><span class="p">());</span> <span class="c1">// Outputs 'Sirwan is working.'</span></code></pre></figure>

<p>The only thing is that a lot of features in ES2015 are not supported in the browsers. For example classes are not supported by any browser, now there might be a nightly built of Firefox that supports classes. So instead we have to use a transpiler and there are many transpilers such as <a href="http://www.typescriptlang.org">TypeScript</a>, <a href="https://babeljs.io">Bable</a> and variety of others. I recommend you to use Bable because it has the best support for all of ES2015 features.</p>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/Object-Oriented-JavaScript-Part-1">Object Oriented JavaScript Part 1</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> December 10, 2015 
            <i class="fa fa-tags"></i> JavaScript C#
          </span>
        </div>
        <p>Recently I’ve started to improve my JavaScript skill, So I decided to keep notes about new things I learn from now on.
Since I’m a C# developer, I’m trying to use my existing knowledge in C# to learn JavaScript.<br />
As you know in C# we have something called <a href="https://msdn.microsoft.com/en-us/library/bb384062.aspx">Object and collection initializer</a>. For example we can use object initializer to create name and value pairs for different properties of the object, in this case <code class="highlighter-rouge">car</code> object:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">var</span> <span class="n">car</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Car</span><span class="p">()</span>
<span class="p">{</span> 
    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="n">Color</span> <span class="p">=</span> <span class="s">"Red"</span><span class="p">,</span> 
    <span class="n">Manufacturer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CarManufacturer</span><span class="p">()</span> 
    <span class="p">{</span> 
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet"</span><span class="p">,</span> 
        <span class="n">Country</span> <span class="p">=</span> <span class="s">"USA"</span> 
    <span class="p">}</span> 
<span class="p">};</span></code></pre></figure>

<p>As you can see we used object initializer for those embedded objects too.
Although object initializers can be used for anonymous types. So here’s the same example which we build with anonymous object:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">var</span> <span class="n">car</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> 
    <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="n">Color</span> <span class="p">=</span> <span class="s">"Red"</span><span class="p">,</span> 
    <span class="n">Manufacturer</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> 
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet"</span><span class="p">,</span> 
        <span class="n">Country</span> <span class="p">=</span> <span class="s">"USA"</span> 
    <span class="p">}</span> 
<span class="p">};</span></code></pre></figure>

<p>This is very similar the way dynamic objects work in JavaScript. So in JavaScript object creation is going to follow this pattern:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">car</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">name</span><span class="p">:</span> <span class="s2">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="na">color</span><span class="p">:</span> <span class="s2">"Red"</span><span class="p">,</span> 
    <span class="na">manufacturer</span><span class="p">:</span> <span class="p">{</span> 
        <span class="na">name</span><span class="p">:</span> <span class="s2">"Chevrolet"</span><span class="p">,</span> 
        <span class="na">country</span><span class="p">:</span> <span class="s2">"USA"</span> 
    <span class="p">},</span>
    <span class="s2">"towing capacity"</span><span class="p">:</span> <span class="s2">"5,952 lbs"</span> 
<span class="p">};</span></code></pre></figure>

<p>As you can see we use key/value pairs. Actually it’s a little different from C# for instance we used colons (<code class="highlighter-rouge">:</code>) instead of equals (<code class="highlighter-rouge">=</code>) but generally the syntaxes are similar. In some case you may see the name is embedded in quotes, it’s optional but if you’re using any reserved characters like space, in this case, you need to surround the name with quotes (like <code class="highlighter-rouge">towing capacity</code>).</p>

<p>These dynamic objects that you have defined with this name value pairs allows you to take these objects you are creating and access each the properties you have defined in that name value pair by the name using a simple dot syntax. For example here in JavaScript you can just access the name using dot name convention:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">car</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span></code></pre></figure>

<p>You can also use a bracket syntax, that’s why objects are sometimes called associative arrays:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">car</span><span class="p">[</span><span class="s2">"name"</span><span class="p">];</span></code></pre></figure>

<p>This way we can retrieve or set the property values. There are other ways for accessing and retrieving property value that are as follows:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">car</span><span class="p">.</span><span class="nx">color</span>                <span class="o">=</span> <span class="s2">"Dot syntax"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="s2">"towing capacity"</span><span class="p">]</span>   <span class="o">=</span> <span class="s2">"String with space"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="nx">str</span><span class="p">]</span>                 <span class="o">=</span> <span class="s2">"String value"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="nx">rand</span><span class="p">]</span>                <span class="o">=</span> <span class="s2">"Random Number"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="nx">obj</span><span class="p">]</span>                 <span class="o">=</span> <span class="s2">"Object"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">[</span><span class="s2">""</span><span class="p">]</span>                  <span class="o">=</span> <span class="s2">"Even an empty string"</span><span class="p">;</span> </code></pre></figure>

<p>We can also get embedded objects that are the properties of those dynamic objects as well and retrive properties from them:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">manufacturer</span> <span class="o">=</span> <span class="nx">car</span><span class="p">.</span><span class="nx">manufacturer</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">manufacturer</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">country</span> <span class="o">=</span> <span class="nx">manufacturer</span><span class="p">.</span><span class="nx">country</span><span class="p">;</span></code></pre></figure>

<p>###Malleability
As you probably know, One of the key features of JavaScript is that the language is <a href="http://blog.jeremymartin.name/2008/03/understanding-loose-typing-in.html">loosely typed</a> it means that variables are declared without a type. So the objects that you are creating in this way are very malleable. In C# <code class="highlighter-rouge">ExpandoObject</code> gives you this behavior.</p>

<blockquote>
  <p>ExpandoObject Represents an object whose members can be dynamically added and removed at run time.</p>
</blockquote>

<p>For example in this code we are creating a new object and marking it as dynamic so that we can add members to this <code class="highlighter-rouge">ExpandoObject</code> as we want:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">dynamic</span> <span class="n">car</span>  <span class="p">=</span> <span class="k">new</span> <span class="nf">ExpandoObject</span><span class="p">();</span>
<span class="n">car</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Chevrolet Corvette"</span><span class="p">;</span>
<span class="n">car</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="s">"Red"</span><span class="p">;</span></code></pre></figure>

<p>These are being added on-the-fly. It means that these aren’t defining the shape ahead of time. We are just saying we are going to add properties to the <code class="highlighter-rouge">car</code> object. In fact this is pretty much the same way in JavaScript:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">car</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="na">name</span><span class="p">:</span> <span class="s2">"Chevrolet Corvette"</span><span class="p">,</span> 
    <span class="na">color</span><span class="p">:</span> <span class="s2">"Red"</span>
<span class="p">};</span></code></pre></figure>

<p>We can still add another property or function on-the-fly:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">car</span><span class="p">[</span><span class="s2">"towing capacity"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"5,952 lbs"</span><span class="p">;</span>
<span class="nx">car</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span></code></pre></figure>

<p>Resourses:</p>
<ul>
    <li><a href="https://pluralsight.com/courses/js4cs
">JavaScript for C# Developers by Shawn Wildermuth</a></li>
    <li><a href="https://mauricebutler.wordpress.com/2011/11/07/getting-started-with-javascript-with-a-c-background/">Getting started with JavaScript with a C# background</a></li>
    <li><a href="https://dzone.com/articles/javascript-c-developers">JavaScript for C# Developers: Functions are Objects</a></li>
</ul>

     </article>
     <hr>
    
     <article>
        <h1><a class="post-link title" href="/First-Blog-Post">My first blog post!</a></h1>

        <div class="post-meta">
          <span class="date">
            <i class="fa fa-calendar"></i> November 28, 2015 
            <i class="fa fa-tags"></i> 
          </span>
        </div>
        <p>Here’s my first blog post :) In this blog I’m going to share thing that I learn, hope you enjoy reading my blog :)</p>

     </article>
     <hr>
    
  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>

</div>
<!-- Pagination links -->
<div class="pagination">
  
    <span class="next">Older</span>
  
  
    <span class="previous">Newer</span>
  
</div>
    </div>

  </body>
</html>
