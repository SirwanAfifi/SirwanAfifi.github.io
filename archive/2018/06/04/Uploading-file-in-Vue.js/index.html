<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.3cf2e8be01055683583b.css">#disqus_thread{width:95%;margin:auto}*{margin:0;padding:0}body{font-family:Cairo,sans-serif;font-weight:400;line-height:1.7;color:#777;-webkit-clip-path:polygon(0 0,100% 0,100% 75vh,0 100);clip-path:polygon(0 0,100% 0,100% 75vh,0 100)}.header{position:relative;height:100vh;background-image:linear-gradient(to right top,rgba(0,123,223,.8) 0,rgba(0,236,189,.8)),url(/img/bg.jpg);background-size:cover;background-position:top}.text-box{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center}.logo{animation-name:moveInBottom;animation-duration:3.5s}.heading-primary{color:#fff;text-transform:uppercase}.heading-primary-main{display:block;overflow:hidden;border-right:.1em solid rgba(48,91,170,.1);white-space:nowrap;font-size:60px;font-weight:400;letter-spacing:35px;animation:typing 3.5s steps(40),blinking-cursor .5s step-end infinite}.heading-primary-sub{display:block;font-size:20px;font-weight:400;letter-spacing:17.4px;animation-name:moveInLeft;animation-duration:3.5s}.socials{animation-name:moveInBottom;animation-duration:3.5s}.socials,.socials a{color:#e6e6e6;margin:10px}@keyframes typing{0%{width:0}to{width:100%}}@keyframes blinking-cursor{0%,to{border-color:transparent}50%{border-color:rgba(48,91,170,.5)}}@keyframes moveInLeft{0%{opacity:0;transform:translateX(-100px)}to{opacity:1;transform:translate(0)}}@keyframes moveInBottom{0%{opacity:0;transform:translateY(100px)}to{opacity:1;transform:translate(0)}}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}*{box-sizing:border-box}body,html{margin:0;padding:0}body{font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;color:#454441;background-color:#fff}@media (min-width:990px){body{font-size:18px}}h1,h2,h3,h4,h5,h6{margin:0 0 10px;font-weight:600;line-height:1.25;text-rendering:optimizeLegibility}h1{font-size:40px}h2{margin-top:20px;font-size:32px}h3{margin-top:24px;font-size:24px}h4,h5,h6{margin-top:16px;font-size:16px}p{margin:0 0 15px}ol,ul{margin-bottom:15px}hr{position:relative;margin:40px 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}strong{color:#222}abbr{background-color:#eee;display:inline-block;padding:3px;font-size:13px;font-weight:700;color:#555;text-shadow:0 1px 1px hsla(0,0%,100%,.5);text-transform:uppercase;border-radius:3px}code,pre{font-family:Menlo,Monaco,Courier New,monospace}code{padding:.25em .5em;font-size:85%;color:#bf616a;border-radius:3px}pre{display:block;margin:0 0 14px;padding:15px 20px;font-size:16px;line-height:1.4;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word}pre code{padding:0;font-size:100%;color:inherit;background-color:transparent}.highlight{margin-bottom:15px;border-radius:4px;margin-left:0;margin-right:0}.highlight pre{margin-bottom:0}blockquote{padding:5px 30px 5px 25px;margin:15px 0;border-left:5px solid #eee}blockquote p{margin-bottom:0;color:#7a7a7a;text-indent:-.4em}blockquote p:before{content:"\201C"}blockquote p:after{content:"\201D"}img{display:block;margin:0 0 15px;border-radius:5px}.lead{font-size:20px;font-weight:300}@media (min-width:990px){.lead{font-size:24px}}a{font-weight:600;color:#222;text-decoration:none}a:focus,a:hover{text-decoration:underline}.masthead{color:#fff;background-color:#2a2a2a}.masthead-inner{padding:20px}.masthead h1{margin-top:0;font-family:Abril Fatface}.masthead .lead{margin-bottom:0}.masthead a{color:#fff}.colophon{margin-top:20px;color:hsla(0,0%,100%,.5)}.colophon-links{padding-left:0;list-style:none}.colophon-links li{color:inherit}@media (min-width:768px){.masthead-inner{padding:40px}}@media (min-width:990px){.masthead{position:fixed;top:0;left:0;bottom:0;width:25%;margin-bottom:0}.masthead-inner{position:absolute;right:0;left:0}.masthead h1{font-size:64px}.colophon{margin-top:40px}}.content{padding:40px 20px}@media (min-width:990px){.content{padding:60px 0}.container{margin-left:30%;margin-right:10%}}.post{margin-bottom:40px}@media (min-width:990px){.post{margin-bottom:60px}}.post-date{display:block;margin:-10px 0 10px;color:#9a9a9a}.related{padding-top:20px;padding-bottom:40px;border-top:1px solid #eee}.related-posts{padding-left:0;list-style:none}.related-posts h3{margin-top:0}.related-posts li small{font-size:75%;color:#999}.related-posts li a:hover{color:#000;text-decoration:none}.related-posts li a:hover small{color:inherit}.pagination{overflow:hidden;margin-top:40px;font-weight:700;color:#ccc;text-align:center;border-top:1px solid #eee}@media (min-width:990px){.pagination{margin-bottom:60px;border:1px solid #eee}}.pagination a,.pagination span{float:left;width:50%;padding:20px}.pagination a:first-child,.pagination span:first-child{border-right:1px solid #eee}.pagination a:hover{text-decoration:none;background-color:#f5f5f5}@media (min-width:990px){.layout-reverse .masthead{left:auto;right:0}.layout-reverse .container{margin-left:10%;margin-right:35%}}.theme-base-08 .masthead{background-color:#ac4142}.theme-base-08 .container a,.theme-base-08 .related-posts li a:hover{color:#ac4142}.theme-base-09 .masthead{background-color:#d28445}.theme-base-09 .container a,.theme-base-09 .related-posts li a:hover{color:#d28445}.theme-base-0a .masthead{background-color:#f4bf75}.theme-base-0a .container a,.theme-base-0a .related-posts li a:hover{color:#f4bf75}.theme-base-0b .masthead{background-color:#90a959}.theme-base-0b .container a,.theme-base-0b .related-posts li a:hover{color:#90a959}.theme-base-0c .masthead{background-color:#75b5aa}.theme-base-0c .container a,.theme-base-0c .related-posts li a:hover{color:#75b5aa}.theme-base-0d .masthead{background-image:linear-gradient(0deg,#03a9f4,rgba(18,78,212,.75))}.theme-base-0d .container a,.theme-base-0d .related-posts li a:hover{color:#6a9fb5}.theme-base-0d .container a:hover{background:linear-gradient(0deg,#03a9f4,rgba(18,78,212,.75));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.theme-base-0e .masthead{background-color:#aa759f}.theme-base-0e .container a,.theme-base-0e .related-posts li a:hover{color:#aa759f}.theme-base-0f .masthead{background-color:#8f5536}.theme-base-0f .container a,.theme-base-0f .related-posts li a:hover{color:#8f5536}.profilepic img{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;margin:0 auto;border:3px solid #fff}.home h1 a:hover{text-decoration:none}.home .title{font-family:Open Sans;font-weight:800;padding-bottom:15px}.home article .post-meta{margin-bottom:15px}.center-image{margin:0 auto}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.highlight .hll{background-color:#49483e}.highlight{background:#272822;color:#f8f8f2}.highlight .c{color:#75715e}.highlight .err{color:#960050;background-color:#1e0010}.highlight .k{color:#66d9ef}.highlight .l{color:#ae81ff}.highlight .n{color:#f8f8f2}.highlight .o{color:#f92672}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:#75715e}.highlight .gd{color:#f92672}.highlight .ge{font-style:italic}.highlight .gi{color:#a6e22e}.highlight .gs{font-weight:700}.highlight .gu{color:#75715e}.highlight .kc,.highlight .kd{color:#66d9ef}.highlight .kn{color:#f92672}.highlight .kp,.highlight .kr,.highlight .kt{color:#66d9ef}.highlight .ld{color:#e6db74}.highlight .m{color:#ae81ff}.highlight .s{color:#e6db74}.highlight .na{color:#a6e22e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#a6e22e}.highlight .no{color:#66d9ef}.highlight .nd{color:#a6e22e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#a6e22e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#a6e22e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f92672}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f92672}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#ae81ff}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#e6db74}.highlight .se{color:#ae81ff}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#e6db74}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#a6e22e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:#ae81ff}</style><meta name="generator" content="Gatsby 2.13.18"/><link as="script" rel="preload" href="/component---src-templates-post-js-eee1ccdbe7994645c29d.js"/><link as="script" rel="preload" href="/1-153260d093dffb686a3e.js"/><link as="script" rel="preload" href="/app-c30c2e311c6230578679.js"/><link as="script" rel="preload" href="/styles-aa6cae37db9cd1ea3cf9.js"/><link as="script" rel="preload" href="/webpack-runtime-cea10c94774fc39f59df.js"/><link as="fetch" rel="preload" href="/page-data/archive/2018/06/04/Uploading-file-in-Vue.js/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><header class="masthead"><div class="masthead-inner"><div class="profilepic"><a href="/"><img src="/avatar.png" alt="Profile Picture"/></a></div><h2>Sirwan Afifi</h2><p class="lead">Stories from a web developer.</p><div class="colophon"><ul class="colophon-links"><li><a href="/about">about</a></li><li><a href="/archive">archives</a></li><li><a href="/#">contact</a></li></ul><p>© 2019. <!-- -->Sirwan Afifi<!-- --> All rights reserved.</p></div></div></header><div class="content container"><div class="post"><h1>Uploading file in Vue.js</h1><span class="post-date">June 4th, 2018<!-- --> | <span class="disqus-comment-count" data-disqus-identifier="Uploading-file-in-Vue.js/" data-disqus-url="https://sirwan.info/archive/2018/06/04/Uploading-file-in-Vue.js/">...</span></span><div><p>In this blog post I am going to show you how you can upload file using Vue.js. On the backend we will use ASP.NET Core MVC to expose an endpoint to the client to receive file. Let's say we have a HTML form for saving a coffee, this form contains a file input to accept coffee's image:</p>
<img src="/img/vue-upload-file.png" alt="Vue Upload File" width="750">
<p>To allow the user to pick a file we need to have a reference to the file input field using <code class="language-text">ref</code> attribute then we can easily access this input using <code class="language-text">$refs</code> object inside our Vue instance this is like selecting an element using jQuery:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">required</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></div>
<p>As you can see we named this input <code class="language-text">image</code> so we can access the element this way:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>\$refs<span class="token punctuation">.</span>image</code></pre></div>
<p>Before we can submit the form we can encapsulate functionality inside a service:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span>

<span class="token keyword">class</span> <span class="token class-name">CoffeeService</span> <span class="token punctuation">{</span>
  <span class="token function">saveCoffee</span><span class="token punctuation">(</span>coffee<span class="token punctuation">:</span> any<span class="token punctuation">,</span> file<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> coffee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>coffee<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> coffee<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>name<span class="token punctuation">,</span> file<span class="token punctuation">)</span>

    <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/Coffees/SaveCoffee"</span><span class="token punctuation">,</span> formData<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Export a singletone instance in the global namespace</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> coffeeService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeService</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>This service has a method called <code class="language-text">saveCoffee</code> which accepts two parameters one is the coffee itself and the second one is uploaded file then we are using <code class="language-text">FormData</code> to combine these data together and sending it to the server using <code class="language-text">axios</code> library. Keep in mind, this method returns a promise which means that the caller can use <code class="language-text">then</code> syntax to get server's response. So inside the <code class="language-text">CoffeeComponent</code> we can use <code class="language-text">Coffeeservice</code> like this:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Add a new Coffee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">v-on:</span>submit.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submitted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>control-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Coffee Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">required</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Name<span class="token punctuation">"</span></span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>model.name<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>control-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Coffee Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CoffeeType<span class="token punctuation">"</span></span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>model.coffeeType<span class="token punctuation">"</span></span>
        <span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span>
            <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>coffeeType in coffeeTypes<span class="token punctuation">"</span></span>
            <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>coffeeType.value<span class="token punctuation">"</span></span>
            <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>coffeeType.value<span class="token punctuation">"</span></span>
            <span class="token punctuation">></span></span>{{ coffeeType.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span>
          <span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>control-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Coffee Image<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">required</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span>
          <span class="token attr-name">multiple</span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Image<span class="token punctuation">"</span></span>
          <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fileChange<span class="token punctuation">"</span></span>
          <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue-property-decorator"</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> coffeeService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../services/CoffeeService"</span>
  <span class="token comment">/// &lt;reference path="./toaster.d.ts" /></span>

  @<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span> UploadFileSimpleComponent <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">UploadFileSimpleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    coffeeTypes <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Espresso"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Latte"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mocha"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>

    model <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token function">submitted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      coffeeService
        <span class="token punctuation">.</span><span class="token function">saveCoffee</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>image<span class="token punctuation">)</span><span class="token punctuation">.</span>files<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          toastr<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          toastr<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></div>
<h3>Showing upload progress</h3>
<p>Now we want to show upload progress, axios makes this easy all we need to do is add a third argument to the <code class="language-text">post</code> method, this argument is actually an object, inside this object we can configure the request inside this object we have access to an event handler called <code class="language-text">onUploadProgress</code> which we can do the calculation. let's change the <code class="language-text">CoffeeService</code> to this:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> eventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../main"</span>

<span class="token keyword">class</span> <span class="token class-name">CoffeeService</span> <span class="token punctuation">{</span>
  <span class="token function">saveCoffee</span><span class="token punctuation">(</span>coffee<span class="token punctuation">:</span> any<span class="token punctuation">,</span> file<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> coffee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>coffee<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> coffee<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>name<span class="token punctuation">,</span> file<span class="token punctuation">)</span>

    <span class="token keyword">let</span> startTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/Coffees/SaveCoffee"</span><span class="token punctuation">,</span> formData<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">onUploadProgress</span><span class="token punctuation">:</span> <span class="token parameter">uploadEvent</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> queueProgress <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>
          <span class="token punctuation">(</span>uploadEvent<span class="token punctuation">.</span>loaded <span class="token operator">/</span> uploadEvent<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">const</span> timeElapsed <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime
        <span class="token keyword">const</span> uploadSpeedFirst <span class="token operator">=</span> uploadEvent<span class="token punctuation">.</span>loaded <span class="token operator">/</span> <span class="token punctuation">(</span>timeElapsed <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> uploadTimeRemaining <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>
          <span class="token punctuation">(</span>uploadEvent<span class="token punctuation">.</span>total <span class="token operator">-</span> uploadEvent<span class="token punctuation">.</span>loaded<span class="token punctuation">)</span> <span class="token operator">/</span> uploadSpeedFirst
        <span class="token punctuation">)</span>
        <span class="token keyword">const</span> uploadTimeElapsed <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>timeElapsed <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> uploadSpeed <span class="token operator">=</span> uploadSpeedFirst <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span>

        eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"uploadData"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          queueProgress<span class="token punctuation">,</span>
          uploadTimeRemaining<span class="token punctuation">,</span>
          uploadTimeElapsed<span class="token punctuation">,</span>
          uploadSpeed<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Export a singletone instance in the global namespace</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> coffeeService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeService</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Inside the method we construct an object, this object will notify all subscribers with current progress. This notification is done using <code class="language-text">$emit</code> method. We also need to update the template to show this progress:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uploadDetails.queueProgress > 0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>15%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Event<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Status<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Elapsed time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">nowrap</span><span class="token punctuation">></span></span>{{uploadDetails.uploadTimeElapsed | number}} second(s)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Remaining time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">nowrap</span><span class="token punctuation">></span></span>{{uploadDetails.uploadTimeRemaining | number}} second(s)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Upload speed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">nowrap</span><span class="token punctuation">></span></span>{{uploadDetails.uploadSpeed | number}} MB/s<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Queue progress<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>progress-bar progress-bar-info progress-bar-striped<span class="token punctuation">"</span></span>
            <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>progressbar<span class="token punctuation">"</span></span>
            <span class="token attr-name">aria-valuemin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>
            <span class="token attr-name">aria-valuemax</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span>
            <span class="token attr-name">:aria-valuenow</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>uploadDetails.queueProgress<span class="token punctuation">"</span></span>
            <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token string">'width'</span><span class="token punctuation">:</span> uploadDetails.queueProgress + <span class="token string">'%'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span>
          <span class="token punctuation">></span></span>
            {{uploadDetails.queueProgress}}%
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>The backend is a simple MVC controller, all it does is uploading the file and saving the coffee into the database:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">async</span> Task<span class="token operator">&lt;</span>IActionResult<span class="token operator">></span> <span class="token function">SaveCoffee</span><span class="token punctuation">(</span><span class="token class-name">Coffee</span> coffee<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token comment">// Uploading files</span>
<span class="token keyword">var</span> fileName <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">UploadFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Saving data</span>
    coffee<span class="token punctuation">.</span>Image <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
    _coffeeService<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>coffee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _coffeeService<span class="token punctuation">.</span><span class="token function">SaveChanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">Json</span><span class="token punctuation">(</span><span class="token string">"Coffee has been saved!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">async</span> Task<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> <span class="token function">UploadFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">var</span> uploadsRootFolder <span class="token operator">=</span> Path<span class="token punctuation">.</span><span class="token function">Combine</span><span class="token punctuation">(</span>\_environment<span class="token punctuation">.</span>WebRootPath<span class="token punctuation">,</span> <span class="token string">"uploads"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Directory<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>uploadsRootFolder<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
Directory<span class="token punctuation">.</span><span class="token function">CreateDirectory</span><span class="token punctuation">(</span>uploadsRootFolder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

    <span class="token keyword">var</span> files <span class="token operator">=</span> Request<span class="token punctuation">.</span>Form<span class="token punctuation">.</span>Files<span class="token punctuation">;</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token keyword">var</span> file <span class="token keyword">in</span> files<span class="token punctuation">)</span>

    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> file<span class="token punctuation">.</span>Length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> filePath <span class="token operator">=</span> Path<span class="token punctuation">.</span><span class="token function">Combine</span><span class="token punctuation">(</span>uploadsRootFolder<span class="token punctuation">,</span> file<span class="token punctuation">.</span>FileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">var</span> fileStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileStream</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> FileMode<span class="token punctuation">.</span>Create<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">CopyToAsync</span><span class="token punctuation">(</span>fileStream<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ConfigureAwait</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> file<span class="token punctuation">.</span>FileName<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre></div>
<img src="/img/upload-file-vue.gif" alt="Upload file using Vue.js" width="700">
<p>You can grab the working sample project from <a href="https://github.com/SirwanAfifi/vue-experiments">GitHub</a>.</p></div></div><div id="disqus_thread"></div></div><footer id="footer" class="inner"><div class="container"><div class="row"><div class="col-md-12"><p>Copyright © 2019 - <!-- -->Sirwan Afifi<!-- --> | Powered by Gatsby |  Site design based on the <a href="http://hyde.getpoole.com/">Hyde theme</a></p></div></div></div></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/archive/2018/06/04/Uploading-file-in-Vue.js/";window.webpackCompilationHash="99506a860aba847c02e6";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c30c2e311c6230578679.js"],"component---src-templates-blog-list-template-js":["/component---src-templates-blog-list-template-js-8fa4decb9b7b430a875e.js"],"component---src-templates-post-js":["/component---src-templates-post-js-eee1ccdbe7994645c29d.js"],"component---src-pages-about-js":["/component---src-pages-about-js-c69372865ca7acdff63e.js"],"component---src-pages-archive-js":["/component---src-pages-archive-js-53483672b297836066dd.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-afad6be0c9bfeab89f23.js"],"component---src-pages-index-js":["/component---src-pages-index-js-9c9326ff1fd8678ab8d6.js"]};/*]]>*/</script><script src="/webpack-runtime-cea10c94774fc39f59df.js" async=""></script><script src="/styles-aa6cae37db9cd1ea3cf9.js" async=""></script><script src="/app-c30c2e311c6230578679.js" async=""></script><script src="/1-153260d093dffb686a3e.js" async=""></script><script src="/component---src-templates-post-js-eee1ccdbe7994645c29d.js" async=""></script></body></html>