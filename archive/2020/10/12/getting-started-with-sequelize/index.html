<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.0d3f539e93ffb77c2a2c.css">#disqus_thread{width:95%;margin:auto}@keyframes typing{0%{width:0}to{width:100%}}@keyframes blinking-cursor{0%,to{border-color:transparent}50%{border-color:rgba(48,91,170,.5)}}@keyframes moveInLeft{0%{opacity:0;transform:translateX(-10rem)}to{opacity:1;transform:translate(0)}}@keyframes moveInBottom{0%{opacity:0;transform:translateY(10rem)}to{opacity:1;transform:translate(0)}}*,:after,:before{margin:0;padding:0;box-sizing:inherit}html{font-size:62.5%}body{font-family:Cairo,sans-serif;font-weight:400;line-height:1.7rem;color:#777;-webkit-clip-path:polygon(0 0,100% 0,100% 75vh,0 100);clip-path:polygon(0 0,100% 0,100% 75vh,0 100);box-sizing:border-box}.images{width:100%;height:100%}.img-res{max-width:100%;height:auto;margin:0 auto}.row{max-width:114rem;background-color:#eee;margin:0 auto}.row:not(:last-child){margin-bottom:8rem}.row:after{content:"";display:table;clear:both}.row [class^=col-]{background-color:#ff4500;float:left}.row [class^=col-]:not(:last-child){margin-right:8rem}.row .col-1-of-2{width:calc((100% - 8rem)/2)}.row .col-1-of-3{width:calc((100% - 16rem)/3)}.row .col-2-of-3{width:calc(2*(100% - 16rem)/3 + 8rem)}.row .col-1-of-4{width:calc((100% - 24rem)/4)}.row .col-2-of-4{width:calc(2*(100% - 24rem)/4 + 8rem)}.row .col-3-of-4{width:calc(3*(100% - 24rem)/4 + 16rem)}.header{position:relative;height:100vh;background-image:linear-gradient(to right top,rgba(0,123,223,.8) 0,rgba(0,236,189,.8)),url(/img/bg.jpg);background-size:cover;background-position:top}.text-box{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center}.logo{animation-name:moveInBottom;animation-duration:3.5s}.heading-primary{color:#fff;text-transform:uppercase}.heading-primary-main{display:block;overflow:hidden;border-right:.1em solid rgba(48,91,171,.1);white-space:nowrap;font-size:6rem;font-weight:400;letter-spacing:3.5rem;animation:typing 3.5s steps(40),blinking-cursor .5s step-end infinite}.heading-primary-sub{display:block;font-size:2rem;font-weight:400;letter-spacing:1.74rem;animation-name:moveInLeft;animation-duration:3.5s}.socials,.socials a{color:#e6e6e6;margin:1rem}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}*{box-sizing:border-box}body,html{margin:0;padding:0}body{font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;color:#454441;background-color:#fff}@media (min-width:990px){body{font-size:18px}}h1,h2,h3,h4,h5,h6{margin:0 0 10px;font-weight:600;line-height:1.25;text-rendering:optimizeLegibility}h1{font-size:40px}h2{margin-top:20px;font-size:32px}h3{margin-top:24px;font-size:24px}h4,h5,h6{margin-top:16px;font-size:16px}p{margin:0 0 15px}ol,ul{margin-bottom:15px}hr{position:relative;margin:40px 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}strong{color:#222}abbr{background-color:#eee;display:inline-block;padding:3px;font-size:13px;font-weight:700;color:#555;text-shadow:0 1px 1px hsla(0,0%,100%,.5);text-transform:uppercase;border-radius:3px}code,pre{font-family:Menlo,Monaco,Courier New,monospace}code{padding:.25em .5em;font-size:85%;color:#bf616a;border-radius:3px}pre{display:block;margin:0 0 14px;padding:15px 20px;font-size:16px;line-height:1.4;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word}pre code{padding:0;font-size:100%;color:inherit;background-color:transparent}.highlight{margin-bottom:15px;border-radius:4px;margin-left:0;margin-right:0}.highlight pre{margin-bottom:0}blockquote{padding:5px 30px 5px 25px;margin:15px 0;border-left:5px solid #eee}blockquote p{margin-bottom:0;color:#7a7a7a;text-indent:-.4em}blockquote p:before{content:"\201C"}blockquote p:after{content:"\201D"}img{display:block;margin:0 0 15px;border-radius:5px}.lead{font-size:20px;font-weight:300}@media (min-width:990px){.lead{font-size:24px}}a{font-weight:600;color:#222;text-decoration:none}a:focus,a:hover{text-decoration:underline}.masthead{color:#fff;background-color:#2a2a2a}.masthead-inner{padding:20px}.masthead h1{margin-top:0;font-family:Abril Fatface}.masthead .lead{margin-bottom:0}.masthead a{color:#fff}.colophon{margin-top:20px;color:hsla(0,0%,100%,.5)}.colophon-links{padding-left:0;list-style:none}.colophon-links li{color:inherit}@media (min-width:768px){.masthead-inner{padding:40px}}@media (min-width:990px){.masthead{position:fixed;top:0;left:0;bottom:0;width:25%;margin-bottom:0}.masthead-inner{position:absolute;right:0;left:0}.masthead h1{font-size:64px}.colophon{margin-top:40px}}.content{padding:40px 20px}@media (min-width:990px){.content{padding:60px 0}.container{margin-left:30%;margin-right:10%}}.post{margin-bottom:40px}@media (min-width:990px){.post{margin-bottom:60px}}.post-date{display:block;margin:-10px 0 10px;color:#9a9a9a}.related{padding-top:20px;padding-bottom:40px;border-top:1px solid #eee}.related-posts{padding-left:0;list-style:none}.related-posts h3{margin-top:0}.related-posts li small{font-size:75%;color:#999}.related-posts li a:hover{color:#000;text-decoration:none}.related-posts li a:hover small{color:inherit}.pagination{overflow:hidden;margin-top:40px;font-weight:700;color:#ccc;text-align:center;border-top:1px solid #eee}@media (min-width:990px){.pagination{margin-bottom:60px;border:1px solid #eee}}.pagination a,.pagination span{float:left;width:50%;padding:20px}.pagination a:first-child,.pagination span:first-child{border-right:1px solid #eee}.pagination a:hover{text-decoration:none;background-color:#f5f5f5}@media (min-width:990px){.layout-reverse .masthead{left:auto;right:0}.layout-reverse .container{margin-left:10%;margin-right:35%}}.theme-base-08 .masthead{background-color:#ac4142}.theme-base-08 .container a,.theme-base-08 .related-posts li a:hover{color:#ac4142}.theme-base-09 .masthead{background-color:#d28445}.theme-base-09 .container a,.theme-base-09 .related-posts li a:hover{color:#d28445}.theme-base-0a .masthead{background-color:#f4bf75}.theme-base-0a .container a,.theme-base-0a .related-posts li a:hover{color:#f4bf75}.theme-base-0b .masthead{background-color:#90a959}.theme-base-0b .container a,.theme-base-0b .related-posts li a:hover{color:#90a959}.theme-base-0c .masthead{background-color:#75b5aa}.theme-base-0c .container a,.theme-base-0c .related-posts li a:hover{color:#75b5aa}.theme-base-0d .masthead{background-image:linear-gradient(0deg,#03a9f4,rgba(18,78,212,.75))}.theme-base-0d .container a,.theme-base-0d .related-posts li a:hover{color:#6a9fb5}.theme-base-0d .container a:hover{background:linear-gradient(0deg,#03a9f4,rgba(18,78,212,.75));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.theme-base-0e .masthead{background-color:#aa759f}.theme-base-0e .container a,.theme-base-0e .related-posts li a:hover{color:#aa759f}.theme-base-0f .masthead{background-color:#8f5536}.theme-base-0f .container a,.theme-base-0f .related-posts li a:hover{color:#8f5536}.profilepic img{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;margin:0 auto;border:3px solid #fff}.home h1 a:hover{text-decoration:none}.home .title{font-family:Open Sans;font-weight:800;padding-bottom:15px}.home article .post-meta{margin-bottom:15px}.center-image{margin:0 auto}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.highlight .hll{background-color:#49483e}.highlight{background:#272822;color:#f8f8f2}.highlight .c{color:#75715e}.highlight .err{color:#960050;background-color:#1e0010}.highlight .k{color:#66d9ef}.highlight .l{color:#ae81ff}.highlight .n{color:#f8f8f2}.highlight .o{color:#f92672}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:#75715e}.highlight .gd{color:#f92672}.highlight .ge{font-style:italic}.highlight .gi{color:#a6e22e}.highlight .gs{font-weight:700}.highlight .gu{color:#75715e}.highlight .kc,.highlight .kd{color:#66d9ef}.highlight .kn{color:#f92672}.highlight .kp,.highlight .kr,.highlight .kt{color:#66d9ef}.highlight .ld{color:#e6db74}.highlight .m{color:#ae81ff}.highlight .s{color:#e6db74}.highlight .na{color:#a6e22e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#a6e22e}.highlight .no{color:#66d9ef}.highlight .nd{color:#a6e22e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#a6e22e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#a6e22e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f92672}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f92672}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#ae81ff}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#e6db74}.highlight .se{color:#ae81ff}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#e6db74}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#a6e22e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:#ae81ff}.widget-container{display:flex;margin-bottom:20px}.bmc-button img{width:35px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:35px!important;height:51px!important;min-width:217px!important;display:inline-flex!important;background-color:#5f7fff!important;border-radius:5px!important;border:1px solid transparent!important;padding:7px 10px!important;font-size:28px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px hsla(0,0%,74.5%,.5)!important;margin:0 auto!important;font-family:Cookie,cursive!important;box-sizing:border-box!important;transition:all .3s linear!important}.bmc-button,.bmc-button:active,.bmc-button:focus,.bmc-button:hover{text-decoration:none!important;color:#fff!important;-webkit-box-shadow:0 1px 2px 2px hsla(0,0%,74.5%,.5)!important}.bmc-button:active,.bmc-button:focus,.bmc-button:hover{box-shadow:0 1px 2px 2px hsla(0,0%,74.5%,.5)!important;opacity:.85!important}</style><meta name="generator" content="Gatsby 2.13.18"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-fdf9bd51e57827d9d43e.js"/><link as="script" rel="preload" href="/app-319ed9ee6b302328ad48.js"/><link as="script" rel="preload" href="/styles-4a421e9d993baa00708b.js"/><link as="script" rel="preload" href="/1-3383a112591cc5742233.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-0914d98d5e3a1ad21021.js"/><link as="fetch" rel="preload" href="/page-data/archive/2020/10/12/getting-started-with-sequelize/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><header class="masthead"><div class="masthead-inner"><div class="profilepic"><a href="/blog"><img src="/avatar.png" alt="Profile Picture"/></a></div><h2>Sirwan Afifi</h2><p class="lead">Stories from a web developer.</p><div class="colophon"><ul class="colophon-links"><li><a href="/about">about</a></li><li><a href="/archive">archives</a></li><li><a href="/#">contact</a></li></ul><p>© <!-- -->2020<!-- -->. <!-- -->Sirwan Afifi<!-- --> All rights reserved.</p></div></div></header><div class="content container"><div class="post"><h1>Getting Started With Sequelize</h1><span class="post-date">October 12th, 2020<!-- --> |<!-- --> <span class="disqus-comment-count" data-disqus-identifier="getting-started-with-sequelize/" data-disqus-url="https://sirwan.info/archive/2020/10/12/getting-started-with-sequelize/">...</span></span><div><p>Sequelize is an Object Relational Mapper (ORM) which enables us to query and manipulate data stored in a relational database. There are several ORM for Node.js out there. Sequelize is one of them and it's pretty popular. In this short tutorial we will have a quick look at Sequelize then we will write a simple Node.js application to connect to a MySQL database.</p>
<h2>Setting up the project</h2>
<p>To start off, head over to command line and type the following commands to initialise the project:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">take sequelize_todo
yarn init <span class="token operator">-</span>y
yarn add sequelize mysql2 dotenv ts<span class="token operator">-</span>node typescript <span class="token operator">-</span><span class="token constant">D</span></code></pre></div>
<p>Next, create a file called <code class="language-text">dbConnection.ts</code> in the root of the project:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Sequelize <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"sequelize"</span>

<span class="token keyword">const</span> sequelize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequelize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  dialect<span class="token punctuation">:</span> <span class="token string">"mysql"</span><span class="token punctuation">,</span>
  username<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_USERNAME</span><span class="token punctuation">,</span>
  password<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_PASSWORD</span><span class="token punctuation">,</span>
  database<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_NAME</span><span class="token punctuation">,</span>
  port<span class="token punctuation">:</span> <span class="token operator">+</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_PORT</span> <span class="token operator">||</span> <span class="token number">3306</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> database <span class="token operator">=</span> <span class="token punctuation">{</span>
  sequelize<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<p>As you can see we have constructed an object using <code class="language-text">Sequelize</code> constructor. This class needs some options which are required to connect to our MySQL database (that's why we have set <code class="language-text">dialect</code> to "mysql". You can changes that to connect to other relational databases like SQL server, ...). Then we exported the newly created object.</p>
<p>Next, create an <code class="language-text">index.ts</code> file in the root of the project:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> dotenv <span class="token keyword">from</span> <span class="token string">"dotenv"</span>
dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> database <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./dbConnection"</span>

<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> database<span class="token punctuation">.</span>sequelize<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>The first couple of lines are used to load <code class="language-text">.env</code> file into <code class="language-text">process.env</code>. This means that we will need to create another file in the root of the project to define our secret values:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token constant">DATABASE_HOST</span> <span class="token operator">=</span> localhost
<span class="token constant">DATABASE_USERNAME</span> <span class="token operator">=</span> root
<span class="token constant">DATABASE_PASSWORD</span> <span class="token operator">=</span> <span class="token constant">PASSWORD</span>
<span class="token constant">DATABASE_NAME</span> <span class="token operator">=</span> <span class="token constant">DBNAME</span>
<span class="token constant">DATABASE_PORT</span> <span class="token operator">=</span> <span class="token number">3306</span></code></pre></div>
<p><strong>NOTE</strong>: Make sure you gitignore the <code class="language-text">.env</code> file before pushing the code into remote repository.</p>
<h2>Creating your first entity</h2>
<p>Now we need to define our entity which is an abstraction that represents a table in your database. An entity is just a class that extends <code class="language-text">Model</code>. So let's create a directory called <code class="language-text">models</code> then create a file called <code class="language-text">User.ts</code> inside that directory:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Sequelize <span class="token keyword">from</span> <span class="token string">"sequelize"</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Sequelize<span class="token punctuation">.</span>Model</span> <span class="token punctuation">{</span>
  username<span class="token punctuation">:</span> string
  createdAt<span class="token punctuation">:</span> Date
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">InitUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">sequelize<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>Sequelize</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  User<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      username<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>DataTypes<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
      createdAt<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>DataTypes<span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      sequelize<span class="token punctuation">,</span>
      tableName<span class="token punctuation">:</span> <span class="token string">"Users"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To define our entity and its properties (Columns) we need to have access to the <code class="language-text">sequelize</code> object which we exported previously. So let's head over to the <code class="language-text">dbConnection.ts</code> file and update the file by passing <code class="language-text">sequelize</code> object to the <code class="language-text">InitUser</code> (which we have just exported):</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> database <span class="token operator">=</span> <span class="token punctuation">{</span>
  sequelize<span class="token punctuation">,</span>
  User<span class="token punctuation">:</span> <span class="token function">InitUser</span><span class="token punctuation">(</span>sequelize<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now if you run the project <code class="language-text">ts-node index.ts</code> you will get this error:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">(</span>node<span class="token punctuation">:</span><span class="token number">11377</span><span class="token punctuation">)</span> UnhandledPromiseRejectionWarning<span class="token punctuation">:</span> SequelizeConnectionError<span class="token punctuation">:</span> Unknown database <span class="token string">'sequelize_sample'</span></code></pre></div>
<p>It's because Sequelize doesn't know how to created the database so it needs a database to start with. So let's create the schema in MySQL:</p>
<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">SCHEMA</span> <span class="token punctuation">`</span>sequelize_sample<span class="token punctuation">`</span> <span class="token punctuation">;</span></code></pre></div>
<p>Now if you run the project one more time, Sequelize is able to create the table for you:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token constant">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token template-string"><span class="token string">`Users`</span></span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`id`</span></span> <span class="token constant">INTEGER</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> auto_increment <span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`username`</span></span> <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`createdAt`</span></span> <span class="token constant">DATETIME</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`updatedAt`</span></span> <span class="token constant">DATETIME</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token string">`id`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB<span class="token punctuation">;</span>
<span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">SHOW</span> <span class="token constant">FULL</span> <span class="token constant">COLUMNS</span> <span class="token constant">FROM</span> <span class="token template-string"><span class="token string">`Users`</span></span><span class="token punctuation">;</span>
<span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">SELECT</span> <span class="token constant">CONSTRAINT_NAME</span> <span class="token keyword">as</span> constraint_name<span class="token punctuation">,</span><span class="token constant">CONSTRAINT_NAME</span> <span class="token keyword">as</span> constraintName<span class="token punctuation">,</span><span class="token constant">CONSTRAINT_SCHEMA</span> <span class="token keyword">as</span> constraintSchema<span class="token punctuation">,</span><span class="token constant">CONSTRAINT_SCHEMA</span> <span class="token keyword">as</span> constraintCatalog<span class="token punctuation">,</span><span class="token constant">TABLE_NAME</span> <span class="token keyword">as</span> tableName<span class="token punctuation">,</span><span class="token constant">TABLE_SCHEMA</span> <span class="token keyword">as</span> tableSchema<span class="token punctuation">,</span><span class="token constant">TABLE_SCHEMA</span> <span class="token keyword">as</span> tableCatalog<span class="token punctuation">,</span><span class="token constant">COLUMN_NAME</span> <span class="token keyword">as</span> columnName<span class="token punctuation">,</span><span class="token constant">REFERENCED_TABLE_SCHEMA</span> <span class="token keyword">as</span> referencedTableSchema<span class="token punctuation">,</span><span class="token constant">REFERENCED_TABLE_SCHEMA</span> <span class="token keyword">as</span> referencedTableCatalog<span class="token punctuation">,</span><span class="token constant">REFERENCED_TABLE_NAME</span> <span class="token keyword">as</span> referencedTableName<span class="token punctuation">,</span><span class="token constant">REFERENCED_COLUMN_NAME</span> <span class="token keyword">as</span> referencedColumnName <span class="token constant">FROM</span> <span class="token constant">INFORMATION_SCHEMA</span><span class="token punctuation">.</span><span class="token constant">KEY_COLUMN_USAGE</span> where <span class="token constant">TABLE_NAME</span> <span class="token operator">=</span> <span class="token string">'Users'</span> <span class="token constant">AND</span> <span class="token constant">CONSTRAINT_NAME</span><span class="token operator">!=</span><span class="token string">'PRIMARY'</span> <span class="token constant">AND</span> <span class="token constant">CONSTRAINT_SCHEMA</span><span class="token operator">=</span><span class="token string">'sequelize_sample'</span> <span class="token constant">AND</span> <span class="token constant">REFERENCED_TABLE_NAME</span> <span class="token constant">IS</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token string">`Users`</span></span> <span class="token constant">CHANGE</span> <span class="token template-string"><span class="token string">`username`</span></span> <span class="token template-string"><span class="token string">`username`</span></span> <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token string">`Users`</span></span> <span class="token constant">CHANGE</span> <span class="token template-string"><span class="token string">`createdAt`</span></span> <span class="token template-string"><span class="token string">`createdAt`</span></span> <span class="token constant">DATETIME</span><span class="token punctuation">;</span>
<span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token string">`Users`</span></span> <span class="token constant">CHANGE</span> <span class="token template-string"><span class="token string">`updatedAt`</span></span> <span class="token template-string"><span class="token string">`updatedAt`</span></span> <span class="token constant">DATETIME</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token function">Executing</span> <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">SHOW</span> <span class="token constant">INDEX</span> <span class="token constant">FROM</span> <span class="token template-string"><span class="token string">`Users`</span></span> <span class="token constant">FROM</span> <span class="token template-string"><span class="token string">`sequelize_sample`</span></span></code></pre></div>
<p>In the next blog post I will explain how to query and manipulate data. You can find the code here on GitHub. (<a href="https://github.com/SirwanAfifi/sequelize_sample">https://github.com/SirwanAfifi/sequelize_sample</a>)</p></div></div><div class="widget-container"><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/SZDwFA72s"><img src="https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:15px;font-size:28px !important">Buy me a coffee</span></a></div><div id="disqus_thread"></div></div><footer id="footer" class="inner"><div class="container"><div><div class="col-md-12"><p>Copyright © <!-- -->2020<!-- --> -<!-- --> <!-- -->Sirwan Afifi<!-- --> | Powered by Gatsby | Site design based on the <a href="http://hyde.getpoole.com/">Hyde theme</a></p></div></div></div></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/archive/2020/10/12/getting-started-with-sequelize/";window.webpackCompilationHash="2ba1faee87f8a1c00908";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-319ed9ee6b302328ad48.js"],"component---src-templates-blog-list-template-js":["/component---src-templates-blog-list-template-js-6602e245c9ca59bdb990.js"],"component---src-templates-post-js":["/component---src-templates-post-js-0914d98d5e3a1ad21021.js"],"component---src-pages-about-js":["/component---src-pages-about-js-b14fef92f04bb4560744.js"],"component---src-pages-archive-js":["/component---src-pages-archive-js-1e77752ab3b135aa7528.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7305ed25ff6cc03b2c57.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d8fb73652771369dd209.js"]};/*]]>*/</script><script src="/component---src-templates-post-js-0914d98d5e3a1ad21021.js" async=""></script><script src="/1-3383a112591cc5742233.js" async=""></script><script src="/styles-4a421e9d993baa00708b.js" async=""></script><script src="/app-319ed9ee6b302328ad48.js" async=""></script><script src="/webpack-runtime-fdf9bd51e57827d9d43e.js" async=""></script></body></html>